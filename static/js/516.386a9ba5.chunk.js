"use strict";(self.webpackChunkplot_device=self.webpackChunkplot_device||[]).push([[516],{516:function(t,n,e){e.r(n),e.d(n,{default:function(){return bt}});var r=e(84506),a=e(29439),s=e(15011),o=e(94162),i=e(34360),u=e(72791),c=e(48928),l=e(16398),d=e(54871),f=e(72900),h=e(11889),p=e(55194),x=e(49703),m=e.n(x),v=e(54301),j=e.n(v),g=e(92640),Z=e.n(g),y=e(12067),b=(m().register([j(),Z()]),(0,y.Z)(m())),D=e(95175),S=e(70324),C=e(80184),F=function(t){var n=t.options,e=t.value,r=t.setValue;return(0,C.jsx)(D.Z,{variant:"standard",value:e,onChange:function(t){return r(t.target.value)},children:n.map((function(t){return(0,C.jsx)(S.Z,{value:t,children:t},t)}))})},P={none:!0,company:!0,format:!0,franchise:!1,game:!1,platform:!0,publisher:!1,rating:!0,status:!0},k=function(t){var n=t.data,e=t.measure,r=(0,u.useState)("company"),s=(0,a.Z)(r,2),o=s[0],i=s[1],x=(0,u.useState)(!1),m=(0,a.Z)(x,2),v=m[0],j=m[1],g=n.reduce((function(t,n){var r,a="none"===o?"":n[o],s=null===(r=n.startDate)||void 0===r?void 0:r.getFullYear().toString();return s&&n.hours?(t[a]=t[a]||{},t[a][s]=(t[a][s]||0)+("Count"===e?1:n.hours),t):t}),{});return v&&Object.values(g).forEach((function(t){for(var n=0,e=parseInt(Object.keys(t).sort()[0]),r=(new Date).getFullYear(),a=e;a<=r;a++)n=t[a]=n+(t[a]||0)})),(0,C.jsxs)(c.Z,{children:[(0,C.jsx)(l.Z,{title:"Count"===e?"Games Played":"Hours Played",action:(0,C.jsxs)(d.Z,{children:[(0,C.jsx)(F,{options:Object.keys(P),value:o,setValue:i}),(0,C.jsx)(f.Z,{label:"Cumulative",control:(0,C.jsx)(h.Z,{checked:v,onChange:function(t,n){return j(n)}})})]})}),(0,C.jsx)(p.Z,{children:(0,C.jsx)(b,{style:{width:"100%",height:"95vh"},data:Object.entries(g).map((function(t){var n=(0,a.Z)(t,2),e=n[0],r=n[1];return{type:v?"scatter":"bar",name:e,x:Object.keys(r),y:Object.values(r),stackgroup:"*"}})),config:{displayModeBar:!1,responsive:!0},layout:{showlegend:P[o],legend:{x:0,y:1,orientation:"h"},barmode:"stack",margin:{l:40,r:0,t:0,b:40},xaxis:{tickmode:"linear"}}})})]})},w=e(97534),T=function(t){var n,e;return'\n    <div style="display: inline-block">\n        <ul style="list-style-type: none;padding: 5px">\n            <li>\n                <span><b>'.concat(t.game,'</b></span>\n            </li>\n        </ul>\n        <hr />\n        <ul style="list-style-type: none;padding-left: 10px">\n            <li>\n                <span><b>Hours: </b></span>\n                <span">').concat(t.hours,"</span>\n            </li>\n            <li>\n                <span><b>Period: </b></span>\n                <span>").concat(null===(n=t.startDate)||void 0===n?void 0:n.toLocaleDateString()," - ").concat(null===(e=t.endDate)||void 0===e?void 0:e.toLocaleDateString()," </span>\n            </li>\n            <li>\n                <span><b>Days: </b></span>\n                <span>").concat(t.numDays||"-","</span>\n            </li>\n        </ul>\n    </div>\n    ")},Y=function(t){var n,e=t.data,r=(0,u.useState)(!1),s=(0,a.Z)(r,2),o=s[0],i=s[1],x=o?function(t){return t.company}:function(){return"*"},m=e.filter((function(t){var n=t.exactDate,e=t.startDate;return n&&e.getFullYear()>2014})).map((function(t){return[x(t),t.game,T(t),t.startDate,t.endDate]}));return n=o?"55vh":"30vh",(0,C.jsxs)(c.Z,{children:[(0,C.jsx)(l.Z,{title:"Timeline",action:(0,C.jsx)(d.Z,{row:!0,children:(0,C.jsx)(f.Z,{label:"Group Data",control:(0,C.jsx)(h.Z,{checked:o,onChange:function(t,n){return i(n)}})})})}),(0,C.jsx)(p.Z,{children:(0,C.jsx)("div",{style:{overflowX:"auto",overflowY:"hidden"},children:(0,C.jsx)(w.ZP,{width:"400vw",height:n,chartType:"Timeline",data:[[{type:"string",id:"Company"},{type:"string",id:"Game"},{type:"string",role:"tooltip"},{type:"date",id:"Start"},{type:"date",id:"End"}]].concat(m)},n)})})]})},E=e(32815),H=e(82396),G=e(39727),O=e(9459),L=e(94609),M=e(77019),N=e(93811),I=e(94976),V=e(22485),A=e(55590),B=function(t){var n=t.setFilterFunc,e=t.measure,r=t.setMeasure,s=(0,u.useState)(!1),i=(0,a.Z)(s,2),c=i[0],l=i[1],d=(0,u.useState)(!1),f=(0,a.Z)(d,2),h=f[0],p=f[1],x=(0,u.useState)(!1),m=(0,a.Z)(x,2),v=m[0],j=m[1];(0,u.useEffect)((function(){var t=[c?function(t){return"Endless"!==t.status}:function(){return!0},h?function(t){return"Pok\xe9mon"!==t.franchise}:function(){return!0},v?function(t){var n=t.platform,e=t.startDate;if("PC"===n){if(null===e||void 0===e||!e.getFullYear()||(null===e||void 0===e?void 0:e.getFullYear())<2015)return!1}else if("Nintendo Switch"!==n&&"Nintendo 3DS"!==n&&"PlayStation 4"!==n&&"PlayStation 5"!==n)return!1;return!0}:function(){return!0}];n((function(){return function(n){return t.reduce((function(t,e){return t&&e(n)}),!0)}}))}),[c,h,v,n]);var g=function(t){return t?{sx:{backgroundColor:"primary.light","&:hover":{backgroundColor:"primary.dark"}}}:{}};return(0,C.jsxs)(o.Z,{direction:"column",spacing:2,sx:{position:"fixed",right:function(t){return t.spacing(2)},bottom:function(t){return t.spacing(2)}},children:[(0,C.jsxs)(N.Z,{icon:(0,C.jsx)(I.Z,{icon:(0,C.jsx)(E.Z,{})}),ariaLabel:"add",children:[(0,C.jsx)(V.Z,{FabProps:g(c),tooltipOpen:!0,tooltipTitle:"Endless",icon:(0,C.jsx)(H.Z,{}),onClick:function(){return l(!c)}}),(0,C.jsx)(V.Z,{FabProps:g(v),tooltipOpen:!0,tooltipTitle:"Unconfirmed",icon:(0,C.jsx)(G.Z,{}),onClick:function(){return j(!v)}}),(0,C.jsx)(V.Z,{FabProps:g(h),tooltipOpen:!0,tooltipTitle:"Pokemon",icon:(0,C.jsx)(O.Z,{}),onClick:function(){return p(!h)}})]}),(0,C.jsx)(A.Z,{color:"secondary",onClick:function(){return r("Count"===e?"Hours":"Count")},children:"Count"===e?(0,C.jsx)(L.Z,{}):(0,C.jsx)(M.Z,{})})]})},R=e(88529),_=e(54091),U=e(31185),J=e(5171),Q=e(76923),X=e(6794),q=e(30199),z=e(45629),K=e(81872),W=e(72087),$=e(4346),tt=e(4565),nt=e(67952),et=(new Intl.NumberFormat).format,rt=function(t){var n=t.data,e=et(n.filter((function(t){return t.hours})).reduce((function(t,n){return t+n.hours}),0));return(0,C.jsx)(dt,{icon:(0,C.jsx)(M.Z,{}),title:"Time Gamed",content:"".concat(e," Hours")})},at=function(t){var n=t.data,e=et(n.length);return(0,C.jsx)(dt,{icon:(0,C.jsx)(L.Z,{}),title:"Number of Games",content:e})},st=function(t){var n=t.data,e=et(Math.round(n.filter((function(t){return t.hours})).reduce((function(t,n){return t+n.hours}),0)/n.length));return(0,C.jsx)(dt,{icon:(0,C.jsx)(R.Z,{}),title:"Avg Time per Game",content:"".concat(e," Hours")})},ot=function(t){var n=t.data,e=et(n.filter((function(t){var n;return(null===(n=t.startDate)||void 0===n?void 0:n.getFullYear())===(new Date).getFullYear()&&t.hours})).reduce((function(t,n){return t+n.hours}),0));return(0,C.jsx)(dt,{icon:(0,C.jsx)(_.Z,{}),title:"This Year So Far",content:"".concat(e," Hours")})},it=function(t){var n=t.data.filter((function(t){return t.hours&&t.startDate&&t.endDate})).sort((function(t,n){return t.endDate<n.endDate?1:-1})).slice(0,6);return(0,C.jsx)(lt,{icon:(0,C.jsx)(U.Z,{}),title:"Recently Finished",content:n})},ut=function(t){var n=t.data.filter((function(t){return t.hours&&t.startDate&&t.endDate})).sort((function(t,n){return t.hours<n.hours?1:-1})).slice(0,6);return(0,C.jsx)(lt,{icon:(0,C.jsx)(J.Z,{}),title:"Most Played",content:n})},ct=function(t){var n,e=t.data.filter((function(t){return"Playing"===t.status})).sort((function(t,n){return t.startDate>n.startDate?1:-1}))[0];return(0,C.jsx)(nt.Z,{xs:12,md:4,children:(0,C.jsxs)(o.Z,{direction:"column",spacing:1,children:[(0,C.jsxs)(c.Z,{sx:{flex:"0 1 auto"},children:[(0,C.jsx)(l.Z,{titleTypographyProps:{variant:"h6"},title:"Currently Playing",subheader:"Started ".concat(null===(n=e.startDate)||void 0===n?void 0:n.toLocaleDateString()),avatar:(0,C.jsx)(Q.Z,{})}),(0,C.jsx)(q.Z,{component:"img",src:"https://images.launchbox-app.com/455861bb-adee-48ad-88e9-19373db19a8e.jpg"})]}),(0,C.jsxs)(c.Z,{sx:{flex:"1 1 auto"},children:[(0,C.jsx)(l.Z,{titleTypographyProps:{variant:"h6"},title:"Next Up",subheader:"Releases ".concat(new Date("11/10/2022").toLocaleDateString()),avatar:(0,C.jsx)(X.Z,{})}),(0,C.jsx)(q.Z,{component:"img",src:"https://images.launchbox-app.com/76ef597d-d0a3-4baa-ac5e-0f00da125e65.jpg"})]})]})})},lt=function(t){var n=t.icon,e=t.title,r=t.content;return(0,C.jsx)(nt.Z,{xs:6,md:4,children:(0,C.jsxs)(c.Z,{sx:{height:"100%"},children:[(0,C.jsx)(l.Z,{titleTypographyProps:{variant:"h6"},title:e,avatar:n}),(0,C.jsx)(p.Z,{children:(0,C.jsxs)(z.Z,{children:[r.map((function(t){var n;return(0,C.jsxs)(u.Fragment,{children:[(0,C.jsx)(K.Z,{variant:"middle",component:"li"}),(0,C.jsx)(W.ZP,{children:(0,C.jsx)($.Z,{secondaryTypographyProps:{component:"span"},primary:t.game,secondary:(0,C.jsxs)(o.Z,{direction:{xs:"column",md:"row"},justifyContent:"space-between",children:[(0,C.jsx)(tt.Z,{children:null===(n=t.endDate)||void 0===n?void 0:n.toLocaleDateString()}),(0,C.jsx)(tt.Z,{children:"".concat(et(t.hours)," Hours")})]})})})]},t.game)})),(0,C.jsx)(K.Z,{variant:"middle",component:"li"})]})})]})})},dt=function(t){var n=t.icon,e=t.title,r=t.content;return(0,C.jsx)(nt.Z,{xs:6,md:3,children:(0,C.jsxs)(c.Z,{sx:{height:"100%"},children:[(0,C.jsx)(l.Z,{titleTypographyProps:{variant:"h6"},title:e,avatar:n}),(0,C.jsx)(p.Z,{children:(0,C.jsx)(tt.Z,{align:"right",variant:"h4",children:r})})]})})},ft=function(t){var n=t.data;return(0,C.jsxs)(nt.Z,{container:!0,spacing:1,alignItems:"stretch",children:[(0,C.jsx)(at,{data:n}),(0,C.jsx)(rt,{data:n}),(0,C.jsx)(ot,{data:n}),(0,C.jsx)(st,{data:n}),(0,C.jsx)(ut,{data:n}),(0,C.jsx)(it,{data:n}),(0,C.jsx)(ct,{data:n})]})},ht=e(93433),pt=["company","format","franchise","game","platform","publisher","rating","status","startDate"],xt=function(t){var n=t.data,e=t.setSunburstData,r=t.measure,s=[(0,u.useState)("company"),(0,u.useState)("platform"),(0,u.useState)("franchise")],o=s.map((function(t){return(0,a.Z)(t,1)[0]}));return(0,u.useEffect)((function(){var t=mt(n,o,r);e(t)}),[e,n,r].concat((0,ht.Z)(o))),(0,C.jsx)(d.Z,{children:s.map((function(t){var n=(0,a.Z)(t,2),e=n[0],r=n[1];return(0,C.jsx)(F,{options:pt,value:e,setValue:r},e)}))})},mt=function(t,n,e){var r=t.filter((function(t){return"Hours"!==e||void 0!==t.hours})).reduce((function(t,e){var r=n.map((function(t){return function(t,n){var e=t[n];return e instanceof Date?e.getFullYear().toString():e}(e,t)}));if(!r.every((function(t){return"string"===typeof t})))return t;var a=t;return r.forEach((function(t){return a=a[t]=a[t]||{}})),a[e.game]=e,t}),{}),s=[],o=[],i=[],u=[];return function t(n,r){var c=0;return Object.entries(n).sort((function(t,n){var e=(0,a.Z)(t,1)[0],r=(0,a.Z)(n,1)[0];return e.localeCompare(r)})).forEach((function(n){var l,d=(0,a.Z)(n,2),f=d[0],h=d[1];l=h.game?"Hours"===e?h.hours:1:t(h,"".concat(r,"-").concat(f)),o.push(f),i.push(r),u.push(l),s.push("".concat(r,"-").concat(f)),c+=l})),c}(r,""),{labels:o,parents:i,values:u,ids:s}},vt=function(t){var n=t.data,e=t.measure,r=(0,u.useState)({ids:[],labels:[],parents:[],values:[]}),s=(0,a.Z)(r,2),o=s[0],i=o.ids,d=o.labels,f=o.parents,h=o.values,x=s[1];return(0,C.jsxs)(c.Z,{children:[(0,C.jsx)(l.Z,{title:"Sunburst",action:(0,C.jsx)(xt,{data:n,setSunburstData:x,measure:e})}),(0,C.jsx)(p.Z,{children:(0,C.jsx)(b,{style:{width:"100%",height:"95vh"},data:[{labels:d,parents:f,values:h,ids:i,type:"sunburst",branchvalues:"total",maxdepth:3,sort:!1}],config:{displayModeBar:!1,responsive:!0},layout:{margin:{l:0,r:0,b:0,t:0}}})})]})},jt=(0,i.Z)({components:{MuiCard:{styleOverrides:{root:function(t){return{"&:hover":{boxShadow:t.theme.shadows[4]}}}}}}}),gt=function(t){var n=(0,r.Z)(t),e=n[0];return n.slice(1).map((function(t){return t.reduce((function(t,n,r){return t[e[r]]=n,t}),{})}))},Zt=function(t){gapi.client.sheets.spreadsheets.values.get({spreadsheetId:"1JCAN_lB2QaVxj1rD4f88mN4tHjmhxF3CZlGtZGwYCLk",range:"Games List!A:Z"}).then((function(t){return t.result.values})).then(gt).then(t)},yt=function(t,n){if(t&&n)return Math.floor((n.getTime()-t.getTime())/864e5+1)},bt=function(t){var n=t.hide,e=(0,u.useState)(),r=(0,a.Z)(e,2),i=r[0],c=r[1],l=(0,u.useState)((function(){return function(){return!0}})),d=(0,a.Z)(l,2),f=d[0],h=d[1],p=(0,u.useState)("Count"),x=(0,a.Z)(p,2),m=x[0],v=x[1];if((0,u.useEffect)((function(){return Zt(c)}),[]),!i||n)return console.log("no data"),null;var j=i.map((function(t){var n=t["Start Date"]?new Date(t["Start Date"]):void 0,e=t["End Date"]?new Date(t["End Date"]):void 0;return e&&t["End Date"].length<5&&e.setFullYear(e.getFullYear()+1),e=n&&(e||new Date),{game:t.Game,platform:t.Platform,company:t.Platform.split(" ")[0],franchise:t.Franchise,genre:t.Genre.split("\n"),theme:t.Theme.split("\n"),format:t.Format,publisher:t.Publisher,rating:t.Rating,status:t.Status,exactDate:!!t["Start Date"]&&t["Start Date"].length>5,startDate:n,endDate:e,hours:t.Hours?parseInt(t.Hours):void 0,numDays:yt(n,e)}})).filter(f);return(0,C.jsx)(s.a,{theme:jt,children:(0,C.jsxs)(o.Z,{spacing:2,children:[(0,C.jsx)(ft,{data:j}),(0,C.jsx)(Y,{data:j}),(0,C.jsx)(vt,{data:j,measure:m}),(0,C.jsx)(k,{data:j,measure:m}),(0,C.jsx)(B,{setFilterFunc:h,measure:m,setMeasure:v})]})})}}}]);
//# sourceMappingURL=516.386a9ba5.chunk.js.map