"use strict";(self.webpackChunkplot_device=self.webpackChunkplot_device||[]).push([[579],{5017:function(t,n,e){var a=e(29439),r=e(13967),i=e(57621),o=e(39504),s=e(9688),c=e(89118),l=e(80184),u=function(t){return Object.entries(t).reduce((function(t,n){var e=(0,a.Z)(n,2),r=e[0],i=e[1];t[r]={};for(var o=0,s=Object.keys(i).sort()[0].split("-").map((function(t){return parseInt(t)})),l=(0,a.Z)(s,2),u=l[0],d=l[1],h=u;h<=c.zs;h++)for(var f=h===u?d:1;f<=(h===c.zs?c.M7+1:12);f++){var x=h+"-"+(f<10?"0":"")+f;o=t[r][x]=o+(i[x]||0)}return t}),{})};n.Z=function(t){var n,e=t.grouped,c=t.cumulative,d=t.stack,h=t.children,f=(0,r.Z)();return c?(n=u(e),d=!0):n=e,(0,l.jsxs)(i.Z,{children:[h,(0,l.jsx)(o.Z,{children:(0,l.jsx)(s.Z,{style:{width:"100%",height:"95vh"},data:Object.entries(n).map((function(t){var n=(0,a.Z)(t,2),e=n[0],r=n[1];return{type:c||!d?"scatter":"bar",name:e,x:Object.keys(r),y:Object.values(r),stackgroup:d?"*":void 0}})),config:{displayModeBar:!1,responsive:!0},layout:{showlegend:Object.keys(e).length>1&&Object.keys(e).length<8,legend:{x:0,y:1,orientation:"h"},barmode:d?"stack":void 0,margin:{l:40,r:0,t:0,b:40},xaxis:{tickmode:"array"},paper_bgcolor:"dark"===f.palette.mode?"rgba(0,0,0,0)":void 0,plot_bgcolor:"dark"===f.palette.mode?"rgba(0,0,0,0)":void 0,font:{color:f.palette.text.primary}}})})]})}},92073:function(t,n,e){e.d(n,{T:function(){return d}});var a=e(1413),r=e(29439),i=e(45987),o=e(42169),s=e(29818),c=e(72791),l=e(80184),u=["image","alt"],d=function(t){var n=t.image,e=t.alt,d=(0,i.Z)(t,u),h=(0,c.useState)(!1),f=(0,r.Z)(h,2),x=f[0],p=f[1],v=(0,l.jsx)(o.Z,(0,a.Z)({component:"img",src:n,alt:e,onClick:function(){return p(!0)}},d));return(0,l.jsxs)(l.Fragment,{children:[v,(0,l.jsx)(s.Z,{open:x,onClose:function(){return p(!1)},maxWidth:!1,PaperProps:{sx:{backgroundColor:"unset",boxShadow:"unset",backgroundImage:"unset"}},children:(0,l.jsx)("img",{style:{maxHeight:"calc(100vh - 64px)",objectFit:"contain",maxWidth:"100%",width:"100vw"},src:n,alt:e,onClick:function(){return p(!1)}})})]})}},95277:function(t,n,e){var a=e(29439),r=e(9585),i=e(79012),o=e(85523),s=e(91440),c=e(39504),l=e(57621),u=e(29818),d=e(34729),h=e(72791),f=e(92073),x=e(80184);n.Z=function(t){var n=t.title,e=t.data,p=t.width,v=(0,h.useState)(!1),j=(0,a.Z)(v,2),m=j[0],g=j[1],Z=e.filter((function(t){return t.banner})).sortByKey("startDate"),b=(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(r.Z,{title:n,action:(0,x.jsx)(i.Z,{row:!0,children:(0,x.jsx)(o.Z,{label:"Maximise",control:(0,x.jsx)(s.Z,{checked:m,onChange:function(t,n){return g(n)}})})})}),(0,x.jsx)(c.Z,{children:(0,x.jsx)(d.Z,{container:!0,spacing:1,alignItems:"center",children:Z.map((function(t){return(0,x.jsx)(d.Z,{alignSelf:"stretch",xs:m?4:p,children:(0,x.jsx)(l.Z,{sx:{height:"100%"},children:(0,x.jsx)(f.T,{image:t.banner,height:"100%",alt:t.name})})},t.name)}))})})]});return(0,x.jsxs)(l.Z,{children:[b,(0,x.jsx)(u.Z,{open:m,fullScreen:!0,children:b})]})}},21488:function(t,n,e){e.d(n,{R:function(){return x},Z:function(){return p}});var a=e(29439),r=e(20890),i=e(36314),o=e(94721),s=e(57621),c=e(9585),l=e(39504),u=e(34729),d=e(27222),h=e(92073),f=e(80184),x=function(t){var n=t.icon,e=t.title,h=t.content,x="string"===typeof h?(0,f.jsx)(r.Z,{align:"right",variant:"h4",children:h}):(0,f.jsx)(i.Z,{divider:(0,f.jsx)(o.Z,{orientation:"vertical",flexItem:!0}),justifyContent:"space-evenly",direction:"row",children:h.map((function(t){var n=(0,a.Z)(t,2),e=n[0],o=n[1];return(0,f.jsxs)(i.Z,{direction:"column",children:[(0,f.jsx)(r.Z,{align:"center",variant:"h5",children:(0,d.W)(o)}),(0,f.jsx)(r.Z,{align:"center",sx:{fontSize:14},color:"text.secondary",children:e})]},o)}))});return(0,f.jsx)(u.Z,{xs:12,md:3,children:(0,f.jsxs)(s.Z,{sx:{height:"100%"},children:[(0,f.jsx)(c.Z,{titleTypographyProps:{variant:"h6"},title:e,avatar:n,sx:{paddingBottom:"5px"}}),(0,f.jsx)(l.Z,{sx:{paddingTop:"5px"},children:x})]})})},p=function(t){var n=t.icon,e=t.title,a=t.content,d=t.labelComponent,x=t.width,p=void 0===x?6:x,v=t.pictureWdith,j=void 0===v?6:v,m=t.aspectRatio,g=(t.divider,(0,f.jsx)(o.Z,{orientation:"vertical",flexItem:!0}));return(0,f.jsx)(u.Z,{xs:p,children:(0,f.jsxs)(s.Z,{sx:{height:"100%"},children:[(0,f.jsx)(c.Z,{titleTypographyProps:{variant:"h6"},title:e,avatar:n}),(0,f.jsx)(l.Z,{children:(0,f.jsx)(u.Z,{container:!0,spacing:1,alignItems:"center",children:a.map((function(t){var n,a;return Array.isArray(t)?(n=t[0],a=t[1]):(n=t,a=t),(0,f.jsx)(u.Z,{alignSelf:"stretch",xs:j,children:(0,f.jsxs)(s.Z,{variant:"outlined",sx:{height:"100%"},children:[(0,f.jsx)(h.T,{image:n.banner,width:"100%",sx:{aspectRatio:m},alt:n.name}),(0,f.jsx)(l.Z,{sx:{padding:"10px",":last-child":{paddingBottom:"10px"}},children:d(a).map((function(t,a,o){return(0,f.jsx)(i.Z,{justifyContent:"space-between",alignItems:"baseline",direction:"row",divider:1===o.length?g:null,children:t.map((function(t){return(0,f.jsx)(r.Z,{variant:"subtitle2",color:"text.secondary",children:t},t)}))},"".concat(e,"-stacks-").concat(n.name,"-").concat(a))}))})]})},n.name)}))})})]})})}},9688:function(t,n,e){var a=e(49703),r=e.n(a),i=e(54301),o=e.n(i),s=e(92640),c=e.n(s),l=e(12067);n.Z=(r().register([o(),c()]),(0,l.Z)(r()))},11579:function(t,n,e){e.r(n),e.d(n,{default:function(){return N}});var a=e(95277),r=e(29439),i=e(9585),o=e(79012),s=e(36314),c=e(85523),l=e(91440),u=e(72791),d=e(33727),h=e(5017),f=e(80184),x={name:!1,status:!0,none:!1},p=function(t,n,e,a){var i=t.reduce((function(t,i){var o,s,c=(0,r.Z)(i,2),l=c[0],u=c[1],d="none"===n?"":l[n],h=a?null===(o=u.startDate)||void 0===o?void 0:o.toISOString().substring(0,7):null===(s=u.startDate)||void 0===s?void 0:s.getFullYear().toString();return h&&u.minutes?(t[d]=t[d]||{},t[d][h]=(t[d][h]||0)+("Episodes"===e?u.e:u.minutes),t):t}),{});return"Hours"===e&&Object.values(i).forEach((function(t){return Object.entries(t).forEach((function(n){var e=(0,r.Z)(n,2),a=e[0],i=e[1];return t[a]=Math.floor(i/60)}))})),i},v=function(t){var n=t.data,e=t.measure,a=(0,u.useState)("none"),v=(0,r.Z)(a,2),j=v[0],m=v[1],g=(0,u.useState)(!1),Z=(0,r.Z)(g,2),b=Z[0],y=Z[1],k=(0,u.useState)(!0),S=(0,r.Z)(k,2),w=S[0],D=S[1],C=n.flatMap((function(t){return t.s.map((function(n){return[t,n]}))})),M=p(C,j,e,b);return(0,f.jsx)(h.Z,{grouped:M,cumulative:b,stack:w,children:(0,f.jsx)(i.Z,{title:"Episodes"===e?"Episodes Watched":"Hours Watched",action:(0,f.jsxs)(o.Z,{children:[(0,f.jsx)(d.j,{options:Object.keys(x),value:j,setValue:m}),(0,f.jsxs)(s.Z,{direction:"row",children:[(0,f.jsx)(c.Z,{label:"Cumulative",control:(0,f.jsx)(l.Z,{checked:b,onChange:function(t,n){return y(n)}})}),(0,f.jsx)(c.Z,{label:"Stack",control:(0,f.jsx)(l.Z,{checked:w,onChange:function(t,n){return D(n)},disabled:b})})]})]})})})},j=e(77019),m=e(54091),g=e(88529),Z=e(80485),b=e(31185),y=e(76923),k=e(34729),S=e(89118),w=e(27222),D=e(21488),C=function(t){var n=t.data,e=n.length,a=n.sum("e"),r=Math.floor(n.sum("minutes")/60);return(0,f.jsx)(D.R,{icon:(0,f.jsx)(j.Z,{}),title:"All Time",content:[["Shows",e],["Episodes",a],["Hours",r]]})},M=function(t){var n=t.data.flatMap((function(t){return t.s})).filter((function(t){return t.startDate.getFullYear()===S.zs})),e=n.length,a=n.sum("e"),r=Math.floor(n.sum("minutes")/60);return(0,f.jsx)(D.R,{icon:(0,f.jsx)(m.Z,{}),title:"This Year So Far",content:[["Seasons",e],["Episodes",a],["Hours",r]]})},O=function(t){var n=t.data.flatMap((function(t){return t.s})).reduce((function(t,n){var e=n.startDate.getFullYear().toString();return e&&n.minutes?(t[e]||(t[e]=[0,0,0]),t[e]=[t[e][0]+1,t[e][1]+n.e,t[e][2]+n.minutes],t):t}),{}),e=Math.floor(Object.values(n).sum(0)/Object.keys(n).length),a=Math.floor(Object.values(n).sum(1)/Object.keys(n).length),r=Math.floor(Object.values(n).sum(2)/Object.keys(n).length/60);return(0,f.jsx)(D.R,{icon:(0,f.jsx)(g.Z,{}),title:"Averages Per Year",content:[["Seasons",e],["Episodes",a],["Hours",r]]})},E=function(t){var n=t.data,e=n.flatMap((function(t){return t.s})),a=Math.round(e.length/n.length),r=Math.round(e.sum("e")/n.length),i=Math.floor(e.sum("minutes")/60/n.length);return(0,f.jsx)(D.R,{icon:(0,f.jsx)(Z.Z,{}),title:"Averages Per Show",content:[["Seasons",a],["Episodes",r],["Hours",i]]})},T=function(t){var n=t.data.flatMap((function(t){return t.s.map((function(n){return[t,n]}))})).filter((function(t){return(0,r.Z)(t,2)[1].endDate})).sort((function(t,n){var e=(0,r.Z)(t,2)[1],a=(0,r.Z)(n,2)[1];return e.endDate<a.endDate?1:-1})).slice(0,6);return(0,f.jsx)(D.Z,{icon:(0,f.jsx)(b.Z,{}),title:"Recently Finished",content:n,width:12,pictureWdith:2,labelComponent:W})},W=function(t){var n;return[["S ".concat(t.s),(null===(n=t.endDate)||void 0===n?void 0:n.toLocaleDateString())||""],["".concat(t.e," Eps"),"".concat((0,w.W)(Math.round(t.minutes/60))," Hours")]]},H=function(t){var n=t.data.filter((function(t){return"Watching"===t.status})).map((function(t){return[t,t.s.at(-1)]})).filter((function(t){var n=(0,r.Z)(t,2);n[0];return!n[1].endDate})).sort((function(t,n){var e=(0,r.Z)(t,2)[1],a=(0,r.Z)(n,2)[1];return e.startDate<a.startDate?1:-1})).slice(0,6);return(0,f.jsx)(D.Z,{icon:(0,f.jsx)(y.Z,{}),title:"Currently Watching",content:n,width:12,pictureWdith:2,labelComponent:A})},A=function(t){var n;return[["S ".concat(t.s),(null===(n=t.startDate)||void 0===n?void 0:n.toLocaleDateString())||""]]},F=function(t){var n=t.data;return(0,f.jsxs)(k.Z,{container:!0,spacing:1,alignItems:"stretch",children:[(0,f.jsx)(C,{data:n}),(0,f.jsx)(M,{data:n}),(0,f.jsx)(O,{data:n}),(0,f.jsx)(E,{data:n}),(0,f.jsx)(T,{data:n}),(0,f.jsx)(H,{data:n})]})},I=e(37762),P=e(13967),R=e(57621),z=e(39504),B=e(86140),Y=function(t,n,e){var a;return'\n    <div style="display: inline-block; '.concat(e?"background-color: black":"",'" >\n        <ul style="list-style-type: none;padding: 5px">\n            <li>\n                <span><b>').concat(t,'</b></span>\n            </li>\n        </ul>\n        <hr />\n        <ul style="list-style-type: none;padding-left: 10px">\n            <li>\n                <span><b>Hours: </b></span>\n                <span">').concat(Math.round(n.minutes/60),"</span>\n            </li>\n            <li>\n                <span><b>Period: </b></span>\n                <span>").concat(n.startDate.toLocaleDateString()," - ").concat(null===(a=n.endDate)||void 0===a?void 0:a.toLocaleDateString()," </span>\n            </li>\n            <li>\n                <span><b>Episodes: </b></span>\n                <span>").concat(n.e,"</span>\n            </li>\n        </ul>\n    </div>\n    ")},L=function(t){var n=t.data,e=(0,u.useState)(!0),a=(0,r.Z)(e,2),s=a[0],d=a[1],h=(0,u.useState)("90vh"),x=(0,r.Z)(h,2),p=x[0],v=x[1],j=(0,P.Z)(),m=n.flatMap((function(t){return t.s.map((function(n){return["".concat(t.name," - S").concat(n.s),n]}))})),g=s?n.map((function(t){return["*",t.name,Y(t.name,t,"dark"===j.palette.mode),t.startDate,t.endDate||S.zr]})):m.map((function(t){var n=(0,r.Z)(t,2),e=n[0],a=n[1];return["*",e,Y(e,a,"dark"===j.palette.mode),a.startDate,a.endDate||S.zr]})),Z=(0,u.useCallback)((function(){var t,n=document.getElementsByTagName("text"),e=(0,I.Z)(n);try{for(e.s();!(t=e.n()).done;){var a=t.value;"middle"===a.getAttribute("text-anchor")&&a.setAttribute("fill",j.palette.text.secondary)}}catch(l){e.e(l)}finally{e.f()}var r,i=document.getElementsByTagName("rect"),o=(0,I.Z)(i);try{for(o.s();!(r=o.n()).done;){var s=r.value;if("#9a9a9a"===s.getAttribute("stroke")){var c=s.height.baseVal.value+50;v(c<.9*document.documentElement.clientHeight?c:"90vh")}}}catch(l){o.e(l)}finally{o.f()}}),[j.palette.text.secondary]);return(0,f.jsxs)(R.Z,{children:[(0,f.jsx)(i.Z,{title:"Timeline",action:(0,f.jsx)(o.Z,{row:!0,children:(0,f.jsx)(c.Z,{label:"Combine Seasons",control:(0,f.jsx)(l.Z,{checked:s,onChange:function(t,n){return d(n)}})})})}),(0,f.jsx)(z.Z,{children:(0,f.jsx)("div",{style:{overflowX:"auto",overflowY:"hidden"},children:(0,f.jsx)(B.ZP,{width:"400vw",height:p,chartType:"Timeline",data:[[{type:"string",id:"*"},{type:"string",id:"Show"},{type:"string",role:"tooltip"},{type:"date",id:"Start"},{type:"date",id:"End"}]].concat(g),onLoad:function(){setTimeout(Z,100)},chartEvents:[{eventName:"ready",callback:Z}],options:{backgroundColor:"dark"===j.palette.mode?j.palette.grey.A700:void 0}},p)})})]})},N=function(t){var n=t.data;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(F,{data:n}),(0,f.jsx)(L,{data:n}),(0,f.jsx)(v,{data:n,measure:"Hours"}),(0,f.jsx)(a.Z,{title:"All Shows",data:n,width:3})]})}},27222:function(t,n,e){e.d(n,{W:function(){return a}});var a=(new Intl.NumberFormat).format},33727:function(t,n,e){e.d(n,{j:function(){return o}});var a=e(70118),r=e(64387),i=e(80184),o=function(t){var n=t.options,e=t.value,o=t.setValue;return(0,i.jsx)(a.Z,{variant:"standard",value:e,onChange:function(t){return o(t.target.value)},children:n.map((function(t){return(0,i.jsx)(r.Z,{value:t,children:t},t)}))})}}}]);
//# sourceMappingURL=579.77caa729.chunk.js.map