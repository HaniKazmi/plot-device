(this["webpackJsonpplot-device"]=this["webpackJsonpplot-device"]||[]).push([[0],{17:function(t,e,n){},24:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),s=n(8),i=n.n(s);n(17),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c=n(12),o=n(2),u=n(9),l=n.n(u),d=n(1),j=function(t){var e=t.label,n=t.value,a=t.setValue;return Object(d.jsxs)("label",{children:[e,":",Object(d.jsx)("input",{name:e,type:"checkbox",checked:n,onChange:function(){return a(!n)}})]})},b=function(t){var e=t.data,n=t.setSunburstData,r=Object(a.useState)("company"),s=Object(o.a)(r,2),i=s[0],c=s[1],u=Object(a.useState)("platform"),l=Object(o.a)(u,2),b=l[0],f=l[1],h=Object(a.useState)("franchise"),v=Object(o.a)(h,2),g=v[0],m=v[1],O=Object(a.useState)("Count"),x=Object(o.a)(O,2),y=x[0],D=x[1],S=Object(a.useState)(!1),w=Object(o.a)(S,2),C=w[0],k=w[1],I=Object(a.useState)(!1),F=Object(o.a)(I,2),E=F[0],V=F[1],P=Object(a.useMemo)((function(){return p(e,[i,b,g],y,E,C)}),[e,i,b,g,y,E,C]);Object(a.useEffect)((function(){return n(P)}),[P,n]);var Y=["company","format","franchise","game","platform","publisher","rating","status","startDate"],H=function(t){var e=t.value,n=t.setValue;return Object(d.jsx)("select",{value:e,onChange:function(t){return n(t.target.value)},children:Y.map((function(t){return Object(d.jsx)("option",{value:t,children:t},t)}))})};return Object(d.jsxs)("div",{children:[Object(d.jsx)(H,{value:i,setValue:c}),Object(d.jsx)(H,{value:b,setValue:f}),Object(d.jsx)(H,{value:g,setValue:m}),Object(d.jsx)("br",{}),Object(d.jsx)(j,{label:"Filter Pokemon",value:C,setValue:k}),Object(d.jsx)(j,{label:"Filter Unconfirmed",value:E,setValue:V}),Object(d.jsxs)("div",{children:[Object(d.jsx)("input",{type:"radio",value:"Count",name:"count",defaultChecked:!0,onChange:function(t){return D(t.currentTarget.value)}}),"Count",Object(d.jsx)("input",{type:"radio",value:"Hours",name:"count",onChange:function(t){return D(t.currentTarget.value)}}),"Hours"]})]})},p=function(t,e,n,a,r){var s=t.filter((function(t){if("Hours"===n&&void 0===t.hours)return!1;if(r&&"Pok\xe9mon"===t.franchise)return!1;var e,s;if(a)if("PC"===t.platform){if(!(null===(e=t.startDate)||void 0===e?void 0:e.getFullYear())||(null===(s=t.startDate)||void 0===s?void 0:s.getFullYear())<2015)return!1}else if("Nintendo Switch"!==t.platform&&"Nintendo 3DS"!==t.platform&&"PlayStation 4"!==t.platform&&"PlayStation 5"!==t.platform)return!1;return!0})).reduce((function(t,n){var a=e.map((function(t){return function(t,e){var n=t[e];return"startDate"===e&&n?n.getFullYear().toString():n}(n,t)}));if(a.includes(void 0))return t;var r=t;return a.forEach((function(t){return r=r[t]=r[t]||{}})),r[n.game]=n,t}),{}),i=[],c=[],u=[],l=[];return function t(e,a){var r=0;return Object.entries(e).sort((function(t,e){var n=Object(o.a)(t,1)[0],a=Object(o.a)(e,1)[0];return n.localeCompare(a)})).forEach((function(e){var s,d=Object(o.a)(e,2),j=d[0],b=d[1];s=b.game?"Hours"===n?parseInt(b.hours):1:t(b,"".concat(a,"-").concat(j)),c.push(j),u.push(a),l.push(s),i.push("".concat(a,"-").concat(j)),r+=s})),r}(s,""),{labels:c,parents:u,values:l,ids:i}},f=function(t){var e=t.data,n=Object(a.useState)({ids:[],labels:[],parents:[],values:[]}),r=Object(o.a)(n,2),s=r[0],i=s.ids,c=s.labels,u=s.parents,j=s.values,p=r[1];return Object(d.jsxs)("div",{children:[Object(d.jsx)(b,{data:e,setSunburstData:p}),Object(d.jsx)(l.a,{style:{width:"100vw",height:"95vh"},data:[{labels:c,parents:u,values:j,ids:i,type:"sunburst",branchvalues:"total",maxdepth:3,sort:!1}],config:{displayModeBar:!1,responsive:!0},layout:{margin:{l:0,r:0,b:0,t:0}}})]})},h=n(10),v=function(t){var e,n;return'\n    <div style="display: inline-block">\n        <ul style="list-style-type: none;padding: 5px">\n            <li>\n                <span><b>'.concat(t.game,'</b></span>\n            </li>\n        </ul>\n        <hr />\n        <ul style="list-style-type: none;padding-left: 10px">\n            <li>\n                <span><b>Hours: </b></span>\n                <span">').concat(t.hours,"</span>\n            </li>\n            <li>\n                <span><b>Period: </b></span>\n                <span>").concat(null===(e=t.startDate)||void 0===e?void 0:e.toLocaleDateString()," - ").concat(null===(n=t.endDate)||void 0===n?void 0:n.toLocaleDateString()," </span>\n            </li>\n            <li>\n                <span><b>Num Days: </b></span>\n                <span>").concat(g(t.startDate,t.endDate),"</span>\n            </li>\n        </ul>\n    </div>\n    ")},g=function(t,e){return Math.floor((Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())-Date.UTC(t.getFullYear(),t.getMonth(),t.getDate()))/864e5+1)},m=function(t){var e=t.data,n=Object(a.useState)(!1),r=Object(o.a)(n,2),s=r[0],i=r[1],c=Object(a.useState)(!1),u=Object(o.a)(c,2),l=u[0],b=u[1],p=s?function(t){return t.company}:function(){return"*"},f=l?function(t){return"Endless"!==t.status}:function(){return!0},g=e.filter((function(t){return t.exactDate})).filter(f).filter((function(t){var e=t.startDate;return(null===e||void 0===e?void 0:e.getFullYear())>2014})).map((function(t){return[p(t),t.game,v(t),t.startDate,t.endDate]}));return Object(d.jsxs)("div",{children:[Object(d.jsx)(j,{label:"Group Data",value:s,setValue:i}),Object(d.jsx)(j,{label:"Filter Endless",value:l,setValue:b}),Object(d.jsx)("br",{}),Object(d.jsx)("div",{style:{overflow:"auto",overflowY:"clip"},children:Object(d.jsx)(h.a,{style:{width:"400vw",height:"65vh"},chartType:"Timeline",data:[[{type:"string",id:"Company"},{type:"string",id:"Game"},{type:"string",role:"tooltip"},{type:"date",id:"Start"},{type:"date",id:"End"}]].concat(g)})})]})},O=["https://sheets.googleapis.com/$discovery/rest?version=v4"],x=function(t){var e=t.children,n=Object(a.useState)(),r=Object(o.a)(n,2),s=r[0],i=r[1];Object(a.useEffect)((function(){return y(i)}),[]);return Object(d.jsxs)("div",{children:[void 0===s?Object(d.jsx)("div",{children:"I don't know if we are signed in"}):s?Object(d.jsxs)("span",{children:["I am signed in",Object(d.jsx)("button",{id:"sign-in-or-out-button",style:{marginLeft:25},onClick:D,children:"Sign Out"})]}):Object(d.jsxs)("span",{children:["I am not signed in",Object(d.jsx)("button",{id:"sign-in-or-out-button",style:{marginLeft:25},onClick:D,children:"Sign In"})]}),s&&e]})},y=function(t){var e=document.createElement("script");e.src="https://apis.google.com/js/client.js",e.onload=function(){console.log("loading"),gapi.load("client:auth2",(function(){gapi.client.init({clientId:"354295298450-sk6hsgh661q1our9cgk3o8phssj4ja8c.apps.googleusercontent.com",apiKey:"AIzaSyCwcAHd6A-m9eizmIwvCvfV1fHPu7l0mUA",discoveryDocs:O,scope:"https://www.googleapis.com/auth/spreadsheets.readonly"}).then((function(){var e=gapi.auth2.getAuthInstance();e.isSignedIn.listen(t),t(e.isSignedIn.get())}))}))},document.body.appendChild(e)},D=function(){var t=gapi.auth2.getAuthInstance();t.isSignedIn.get()?t.signOut():t.signIn()},S=function(){var t=Object(a.useState)(),e=Object(o.a)(t,2),n=e[0],r=e[1];if(Object(a.useEffect)((function(){return C(r)}),[]),!n)return console.log("no data"),Object(d.jsx)("div",{});var s=n.map((function(t){var e=t["End Date"]?new Date(t["End Date"]):void 0;return e&&t["End Date"].length<5&&e.setFullYear(e.getFullYear()+1),{game:t.Game,platform:t.Platform,company:t.Platform.split(" ")[0],franchise:t.Franchise,genre:t.Genre.split("\n"),theme:t.Theme.split("\n"),format:t.Format,publisher:t.Publisher,rating:t.Rating,status:t.Status,exactDate:!!(t["Start Date"]&&t["Start Date"].length>5),startDate:t["Start Date"]?new Date(t["Start Date"]):void 0,endDate:e||new Date,hours:t.Hours}}));return Object(d.jsxs)(a.Fragment,{children:[Object(d.jsx)(m,{data:s}),Object(d.jsx)(f,{data:s})]})},w=function(t){var e=Object(c.a)(t),n=e[0];return e.slice(1).map((function(t){var e={};return t.forEach((function(t,a){return e[n[a]]=t})),e}))},C=function(t){console.log("fetching data"),gapi.client.sheets.spreadsheets.values.get({spreadsheetId:"1JCAN_lB2QaVxj1rD4f88mN4tHjmhxF3CZlGtZGwYCLk",range:"Games List!A:Z"}).then((function(t){return t.result.values})).then(w).then(t)},k=function(){return Object(d.jsx)(x,{children:Object(d.jsx)(S,{})})};i.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(k,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[24,1,2]]]);
//# sourceMappingURL=main.b79b6150.chunk.js.map