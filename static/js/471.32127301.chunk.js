"use strict";(self.webpackChunkplot_device=self.webpackChunkplot_device||[]).push([[471],{5017:function(t,e,n){var a=n(29439),r=n(13967),i=n(57621),s=n(39504),o=n(9688),c=n(89118),u=n(80184),l=function(t){return Object.entries(t).reduce((function(t,e){var n=(0,a.Z)(e,2),r=n[0],i=n[1];t[r]={};for(var s=0,o=Object.keys(i).sort()[0].split("-").map((function(t){return parseInt(t)})),u=(0,a.Z)(o,2),l=u[0],d=u[1],h=l;h<=c.zs;h++)for(var p=h===l?d:1;p<=(h===c.zs?c.M7+1:12);p++){var x=h+"-"+(p<10?"0":"")+p;s=t[r][x]=s+(i[x]||0)}return t}),{})};e.Z=function(t){var e,n=t.grouped,c=t.cumulative,d=t.stack,h=t.children,p=(0,r.Z)();return c?(e=l(n),d=!0):e=n,(0,u.jsxs)(i.Z,{children:[h,(0,u.jsx)(s.Z,{children:(0,u.jsx)(o.Z,{style:{width:"100%",height:"95vh"},data:Object.entries(e).map((function(t){var e=(0,a.Z)(t,2),n=e[0],r=e[1];return{type:c||!d?"scatter":"bar",name:n,x:Object.keys(r),y:Object.values(r),stackgroup:d?"*":void 0}})),config:{displayModeBar:!1,responsive:!0},layout:{showlegend:Object.keys(n).length>1&&Object.keys(n).length<8,legend:{x:0,y:1,orientation:"h"},barmode:d?"stack":void 0,margin:{l:40,r:0,t:0,b:40},xaxis:{tickmode:"array"},paper_bgcolor:"dark"===p.palette.mode?"rgba(0,0,0,0)":void 0,plot_bgcolor:"dark"===p.palette.mode?"rgba(0,0,0,0)":void 0,font:{color:p.palette.text.primary}}})})]})}},92073:function(t,e,n){n.d(e,{T:function(){return d}});var a=n(1413),r=n(29439),i=n(45987),s=n(42169),o=n(29818),c=n(72791),u=n(80184),l=["image","alt"],d=function(t){var e=t.image,n=t.alt,d=(0,i.Z)(t,l),h=(0,c.useState)(!1),p=(0,r.Z)(h,2),x=p[0],v=p[1],f=(0,u.jsx)(s.Z,(0,a.Z)({component:"img",src:e,alt:n,onClick:function(){return v(!0)}},d));return(0,u.jsxs)(u.Fragment,{children:[f,(0,u.jsx)(o.Z,{open:x,onClose:function(){return v(!1)},maxWidth:!1,PaperProps:{sx:{backgroundColor:"unset",boxShadow:"unset",backgroundImage:"unset"}},children:(0,u.jsx)("img",{style:{maxHeight:"calc(100vh - 64px)",objectFit:"contain",maxWidth:"100%",width:"100vw"},src:e,alt:n,onClick:function(){return v(!1)}})})]})}},95277:function(t,e,n){var a=n(29439),r=n(9585),i=n(79012),s=n(85523),o=n(91440),c=n(39504),u=n(57621),l=n(29818),d=n(34729),h=n(72791),p=n(92073),x=n(80184);e.Z=function(t){var e=t.title,n=t.data,v=t.width,f=(0,h.useState)(!1),m=(0,a.Z)(f,2),j=m[0],g=m[1],Z=n.filter((function(t){return t.banner})).sortByKey("startDate"),y=(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(r.Z,{title:e,action:(0,x.jsx)(i.Z,{row:!0,children:(0,x.jsx)(s.Z,{label:"Maximise",control:(0,x.jsx)(o.Z,{checked:j,onChange:function(t,e){return g(e)}})})})}),(0,x.jsx)(c.Z,{children:(0,x.jsx)(d.Z,{container:!0,spacing:1,alignItems:"center",children:Z.map((function(t){return(0,x.jsx)(d.Z,{alignSelf:"stretch",xs:j?4:v,children:(0,x.jsx)(u.Z,{sx:{height:"100%"},children:(0,x.jsx)(p.T,{image:t.banner,height:"100%",alt:t.name})})},t.name)}))})})]});return(0,x.jsxs)(u.Z,{children:[y,(0,x.jsx)(l.Z,{open:j,fullScreen:!0,children:y})]})}},21488:function(t,e,n){n.d(e,{R:function(){return x},Z:function(){return v}});var a=n(29439),r=n(20890),i=n(36314),s=n(94721),o=n(57621),c=n(9585),u=n(39504),l=n(34729),d=n(27222),h=n(92073),p=n(80184),x=function(t){var e=t.icon,n=t.title,h=t.content,x="string"===typeof h?(0,p.jsx)(r.Z,{align:"right",variant:"h4",children:h}):(0,p.jsx)(i.Z,{divider:(0,p.jsx)(s.Z,{orientation:"vertical",flexItem:!0}),justifyContent:"space-evenly",direction:"row",children:h.map((function(t){var e=(0,a.Z)(t,2),n=e[0],s=e[1];return(0,p.jsxs)(i.Z,{direction:"column",children:[(0,p.jsx)(r.Z,{align:"center",variant:"h5",children:(0,d.W)(s)}),(0,p.jsx)(r.Z,{align:"center",sx:{fontSize:14},color:"text.secondary",children:n})]},s)}))});return(0,p.jsx)(l.Z,{xs:12,md:3,children:(0,p.jsxs)(o.Z,{sx:{height:"100%"},children:[(0,p.jsx)(c.Z,{titleTypographyProps:{variant:"h6"},title:n,avatar:e,sx:{paddingBottom:"5px"}}),(0,p.jsx)(u.Z,{sx:{paddingTop:"5px"},children:x})]})})},v=function(t){var e=t.icon,n=t.title,a=t.content,d=t.labelComponent,x=t.width,v=void 0===x?6:x,f=t.pictureWdith,m=void 0===f?6:f,j=t.aspectRatio,g=(t.divider,(0,p.jsx)(s.Z,{orientation:"vertical",flexItem:!0}));return(0,p.jsx)(l.Z,{xs:v,children:(0,p.jsxs)(o.Z,{sx:{height:"100%"},children:[(0,p.jsx)(c.Z,{titleTypographyProps:{variant:"h6"},title:n,avatar:e}),(0,p.jsx)(u.Z,{children:(0,p.jsx)(l.Z,{container:!0,spacing:1,alignItems:"center",children:a.map((function(t){var e,a;return Array.isArray(t)?(e=t[0],a=t[1]):(e=t,a=t),(0,p.jsx)(l.Z,{alignSelf:"stretch",xs:m,children:(0,p.jsxs)(o.Z,{variant:"outlined",sx:{height:"100%"},children:[(0,p.jsx)(h.T,{image:e.banner,width:"100%",sx:{aspectRatio:j},alt:e.name}),(0,p.jsx)(u.Z,{sx:{padding:"10px",":last-child":{paddingBottom:"10px"}},children:d(a).map((function(t,a,s){return(0,p.jsx)(i.Z,{justifyContent:"space-between",alignItems:"baseline",direction:"row",divider:1===s.length?g:null,children:t.map((function(t){return(0,p.jsx)(r.Z,{variant:"subtitle2",color:"text.secondary",children:t},t)}))},"".concat(n,"-stacks-").concat(e.name,"-").concat(a))}))})]})},e.name)}))})})]})})}},9688:function(t,e,n){var a=n(49703),r=n.n(a),i=n(54301),s=n.n(i),o=n(92640),c=n.n(o),u=n(12067);e.Z=(r().register([s(),c()]),(0,u.Z)(r()))},27222:function(t,e,n){n.d(e,{W:function(){return a}});var a=(new Intl.NumberFormat).format},87471:function(t,e,n){n.r(e),n.d(e,{default:function(){return U}});var a=n(77019),r=n(88529),i=n(80485),s=n(54091),o=n(31185),c=n(76189),u=n(80184),l=(0,c.Z)((0,u.jsx)("path",{d:"M13.5.67s.74 2.65.74 4.8c0 2.06-1.35 3.73-3.41 3.73-2.07 0-3.63-1.67-3.63-3.73l.03-.36C5.21 7.51 4 10.62 4 14c0 4.42 3.58 8 8 8s8-3.58 8-8C20 8.61 17.41 3.8 13.5.67zM11.71 19c-1.78 0-3.22-1.4-3.22-3.14 0-1.62 1.05-2.76 2.81-3.12 1.77-.36 3.6-1.21 4.62-2.58.39 1.29.59 2.65.59 4.04 0 2.65-2.15 4.8-4.8 4.8z"}),"Whatshot"),d=n(76923),h=n(34729),p=n(89118),x=n(27222),v=n(21488),f=function(t){var e=t.data.filter((function(t){return t.hours})),n=e.sum("hours"),r=e.length;return(0,u.jsx)(v.R,{icon:(0,u.jsx)(a.Z,{}),title:"All Time",content:[["Games",r],["Hours",n]]})},m=function(t){var e=t.data.reduce((function(t,e){var n,a=null===(n=e.startDate)||void 0===n?void 0:n.getFullYear().toString();return a&&e.hours?(t[a]||(t[a]=[0,0]),t[a]=[t[a][0]+1,t[a][1]+e.hours],t):t}),{}),n=parseFloat((Object.values(e).sum(0)/Object.keys(e).length).toFixed(2)),a=parseFloat((Object.values(e).sum(1)/Object.keys(e).length).toFixed(2));return(0,u.jsx)(v.R,{icon:(0,u.jsx)(r.Z,{}),title:"Averages Per Year",content:[["Games",n],["Hours",a]]})},j=function(t){var e=t.data.filter((function(t){return"Beat"===t.status&&t.hours&&t.numDays})),n=Math.round(e.sum("hours")/e.length),a=Math.round(e.sum("numDays")/e.length);return(0,u.jsx)(v.R,{icon:(0,u.jsx)(i.Z,{}),title:"Averages Per Game",content:[["Hours",n],["Days To Beat",a]]})},g=function(t){var e=t.data.filter((function(t){var e;return(null===(e=t.startDate)||void 0===e?void 0:e.getFullYear())===p.zs&&t.hours})),n=e.sum("hours"),a=e.length;return(0,u.jsx)(v.R,{icon:(0,u.jsx)(s.Z,{}),title:"This Year So Far",content:[["Games",a],["Hours",n]]})},Z=function(t){var e=t.data.filter((function(t){return t.hours&&t.startDate&&t.endDate})).sortByKey("endDate").slice(0,6);return(0,u.jsx)(v.Z,{icon:(0,u.jsx)(o.Z,{}),aspectRatio:"16/9",divider:!0,title:"Recently Finished",content:e,labelComponent:k})},y=function(t){var e=t.data.filter((function(t){return t.hours&&t.startDate&&t.endDate})).sortByKey("hours").slice(0,6);return(0,u.jsx)(v.Z,{icon:(0,u.jsx)(l,{}),aspectRatio:"16/9",divider:!0,title:"Most Played",content:e,labelComponent:k})},b=function(t){var e=t.data.filter((function(t){return"Playing"===t.status})).sort((function(t,e){return t.startDate>e.startDate?1:-1})).slice(0,3);return(0,u.jsx)(v.Z,{icon:(0,u.jsx)(d.Z,{}),aspectRatio:"16/9",divider:!0,title:"Currently Playing",content:e,width:12,pictureWdith:4,labelComponent:D})},k=function(t){var e;return[[(null===(e=t.endDate)||void 0===e?void 0:e.toLocaleDateString())||"","".concat((0,x.W)(t.hours)," Hours")]]},D=function(t){var e;return[[(null===(e=t.startDate)||void 0===e?void 0:e.toLocaleDateString())||"",t.platform]]},S=function(t){var e=t.data;return(0,u.jsxs)(h.Z,{container:!0,spacing:1,alignItems:"stretch",children:[(0,u.jsx)(f,{data:e}),(0,u.jsx)(g,{data:e}),(0,u.jsx)(m,{data:e}),(0,u.jsx)(j,{data:e}),(0,u.jsx)(y,{data:e}),(0,u.jsx)(Z,{data:e}),(0,u.jsx)(b,{data:e})]})},w=n(93433),C=n(29439),F=n(13967),T=n(57621),O=n(9585),P=n(39504),H=n(79012),B=n(72791),R=n(9688),A=n(33727),I=["company","format","franchise","name","platform","publisher","genre","rating","status","startDate"],G=function(t){var e=t.data,n=t.setSunburstData,a=t.measure,r=[(0,B.useState)("company"),(0,B.useState)("platform"),(0,B.useState)("franchise")],i=r.map((function(t){return(0,C.Z)(t,1)[0]}));return(0,B.useEffect)((function(){var t=M(e,i,a);n(t)}),[n,e,a].concat((0,w.Z)(i))),(0,u.jsx)(H.Z,{children:r.map((function(t){var e=(0,C.Z)(t,2),n=e[0],a=e[1];return(0,u.jsx)(A.j,{options:I,value:n,setValue:a},n)}))})},M=function(t,e,n){var a=t.filter((function(t){return"Hours"!==n||void 0!==t.hours})).reduce((function(t,n){var a=e.map((function(t){return function(t,e){var n=t[e];return n instanceof Date?n.getFullYear().toString():n}(n,t)}));if(!a.every((function(t){return"string"===typeof t})))return t;var r=t;return a.forEach((function(t){return r=r[t]=r[t]||{}})),r[n.name]=n,t}),{}),r=[],i=[],s=[],o=[];return function t(e,a){var c=0;return Object.entries(e).sort((function(t,e){var n=(0,C.Z)(t,1)[0],a=(0,C.Z)(e,1)[0];return n.localeCompare(a)})).forEach((function(e){var u,l=(0,C.Z)(e,2),d=l[0],h=l[1];u=h.name?"Hours"===n?h.hours:1:t(h,"".concat(a,"-").concat(d)),i.push(d),s.push(a),o.push(u),r.push("".concat(a,"-").concat(d)),c+=u})),c}(a,""),{labels:i,parents:s,values:o,ids:r}},E=function(t){var e=t.data,n=t.measure,a=(0,F.Z)(),r=(0,B.useState)({ids:[],labels:[],parents:[],values:[]}),i=(0,C.Z)(r,2),s=i[0],o=s.ids,c=s.labels,l=s.parents,d=s.values,h=i[1];return(0,u.jsxs)(T.Z,{children:[(0,u.jsx)(O.Z,{title:"Sunburst",action:(0,u.jsx)(G,{data:e,setSunburstData:h,measure:n})}),(0,u.jsx)(P.Z,{children:(0,u.jsx)(R.Z,{style:{width:"100%",height:"95vh",maxHeight:"100vw"},data:[{labels:c,parents:l,values:d,ids:o,type:"sunburst",branchvalues:"total",maxdepth:3,sort:!1,marker:{line:{color:a.palette.background.paper}}}],config:{displayModeBar:!1,responsive:!0},layout:{margin:{l:0,r:0,b:0,t:0},paper_bgcolor:"dark"===a.palette.mode?"rgba(0,0,0,0)":void 0}})})]})},W=n(36314),Y=n(85523),z=n(91440),L=n(5017),_={none:!0,company:!0,format:!0,franchise:!1,name:!1,platform:!0,publisher:!1,rating:!0,status:!0,genre:!0},N=function(t,e,n,a){return t.reduce((function(t,r){var i,s,o="none"===e?"":r[e],c=a?null===(i=r.startDate)||void 0===i?void 0:i.toISOString().substring(0,7):null===(s=r.startDate)||void 0===s?void 0:s.getFullYear().toString();return c&&r.hours?(t[o]=t[o]||{},t[o][c]=(t[o][c]||0)+("Count"===n?1:r.hours),t):t}),{})},V=function(t){var e=t.data,n=t.measure,a=(0,B.useState)("company"),r=(0,C.Z)(a,2),i=r[0],s=r[1],o=(0,B.useState)(!0),c=(0,C.Z)(o,2),l=c[0],d=c[1],h=(0,B.useState)(!0),p=(0,C.Z)(h,2),x=p[0],v=p[1],f=N(e,i,n,l);return(0,u.jsx)(L.Z,{grouped:f,cumulative:l,stack:x,children:(0,u.jsx)(O.Z,{title:"Count"===n?"Games Played":"Hours Played",action:(0,u.jsxs)(H.Z,{children:[(0,u.jsx)(A.j,{options:Object.keys(_),value:i,setValue:s}),(0,u.jsxs)(W.Z,{direction:"row",children:[(0,u.jsx)(Y.Z,{label:"Cumulative",control:(0,u.jsx)(z.Z,{checked:l,onChange:function(t,e){return d(e)}})}),(0,u.jsx)(Y.Z,{label:"Stack",control:(0,u.jsx)(z.Z,{checked:x,onChange:function(t,e){return v(e)},disabled:l})})]})]})})})},K=n(95277),X=n(37762),q=n(86140),J=function(t){var e,n;return'\n    <div style="display: inline-block">\n        <ul style="list-style-type: none;padding: 5px">\n            <li>\n                <span><b>'.concat(t.name,'</b></span>\n            </li>\n        </ul>\n        <hr />\n        <ul style="list-style-type: none;padding-left: 10px">\n            <li>\n                <span><b>Hours: </b></span>\n                <span">').concat(t.hours,"</span>\n            </li>\n            <li>\n                <span><b>Period: </b></span>\n                <span>").concat(null===(e=t.startDate)||void 0===e?void 0:e.toLocaleDateString()," - ").concat(null===(n=t.endDate)||void 0===n?void 0:n.toLocaleDateString()," </span>\n            </li>\n            <li>\n                <span><b>Days: </b></span>\n                <span>").concat(t.numDays||"-","</span>\n            </li>\n        </ul>\n    </div>\n    ")},Q=function(t){var e=t.data,n=(0,F.Z)(),a=(0,B.useState)(!1),r=(0,C.Z)(a,2),i=r[0],s=r[1],o=(0,B.useState)("50vh"),c=(0,C.Z)(o,2),l=c[0],d=c[1],h=i?function(t){return t.company}:function(){return"*"},x=e.filter((function(t){var e=t.exactDate,n=t.startDate;return e&&n.getFullYear()>2014})).map((function(t){return[h(t),t.name,J(t),t.startDate,t.endDate||p.zr]})),v=(0,B.useCallback)((function(){var t,e=document.getElementsByTagName("text"),a=(0,X.Z)(e);try{for(a.s();!(t=a.n()).done;){var r=t.value;"middle"===r.getAttribute("text-anchor")&&r.setAttribute("fill",n.palette.text.secondary)}}catch(h){a.e(h)}finally{a.f()}var i,s=document.getElementsByTagName("rect"),o=(0,X.Z)(s);try{for(o.s();!(i=o.n()).done;){var c=i.value;if("#9a9a9a"===c.getAttribute("stroke")){var u=c.height.baseVal.value+50;d(u<.95*document.documentElement.clientHeight?u:l)}}}catch(h){o.e(h)}finally{o.f()}}),[n.palette.text.secondary,l]);return(0,u.jsxs)(T.Z,{children:[(0,u.jsx)(O.Z,{title:"Timeline",action:(0,u.jsx)(H.Z,{row:!0,children:(0,u.jsx)(Y.Z,{label:"Group Data",control:(0,u.jsx)(z.Z,{checked:i,onChange:function(t,e){return s(e)}})})})}),(0,u.jsx)(P.Z,{children:(0,u.jsx)("div",{style:{overflowX:"auto",overflowY:"hidden"},children:(0,u.jsx)(q.ZP,{width:"400vw",height:l,chartType:"Timeline",data:[[{type:"string",id:"Group"},{type:"string",id:"Game"},{type:"string",role:"tooltip"},{type:"date",id:"Start"},{type:"date",id:"End"}]].concat(x),onLoad:function(){setTimeout(v,100)},chartEvents:[{eventName:"ready",callback:v}],options:{backgroundColor:"dark"===n.palette.mode?n.palette.grey.A700:void 0,timeline:{rowLabelStyle:{color:n.palette.text.primary}}}},l)})})]})},U=function(t){var e=t.vgData,n=t.measure;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(S,{data:e}),(0,u.jsx)(Q,{data:e}),(0,u.jsx)(E,{data:e,measure:n}),(0,u.jsx)(V,{data:e,measure:n}),(0,u.jsx)(K.Z,{title:"All Games",data:e,width:4})]})}},33727:function(t,e,n){n.d(e,{j:function(){return s}});var a=n(70118),r=n(64387),i=n(80184),s=function(t){var e=t.options,n=t.value,s=t.setValue;return(0,i.jsx)(a.Z,{variant:"standard",value:n,onChange:function(t){return s(t.target.value)},children:e.map((function(t){return(0,i.jsx)(r.Z,{value:t,children:t},t)}))})}}}]);
//# sourceMappingURL=471.32127301.chunk.js.map