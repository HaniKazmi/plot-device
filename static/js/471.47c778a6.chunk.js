"use strict";(self.webpackChunkplot_device=self.webpackChunkplot_device||[]).push([[471],{16777:function(t,e,n){n.d(e,{LG:function(){return o},M7:function(){return r},zs:function(){return s}});var a=new Date,r=a.getMonth(),s=a.getFullYear(),o=function(t,e){if(t&&e)return Math.floor((e.getTime()-t.getTime())/864e5+1)}},28471:function(t,e,n){n.r(e),n.d(e,{default:function(){return L}});var a=n(84506),r=n(29439),s=n(94162),o=n(72791),i=n(77019),u=n(54091),l=n(88529),c=n(80485),d=n(67952),h=n(16777),f=n(41696),p=n(80184),x=function(t){var e=t.data,n=e.length,a=e.sum("e"),r=Math.floor(e.sum("minutes")/60);return(0,p.jsx)(f.R,{icon:(0,p.jsx)(i.Z,{}),title:"All Time",content:[["Shows",n],["Episodes",a],["Hours",r]]})},j=function(t){var e=t.data.flatMap((function(t){return t.s})).filter((function(t){return t.startDate.getFullYear()===h.zs})),n=e.length,a=e.sum("e"),r=Math.floor(e.sum("minutes")/60);return(0,p.jsx)(f.R,{icon:(0,p.jsx)(u.Z,{}),title:"This Year So Far",content:[["Seasons",n],["Episodes",a],["Hours",r]]})},v=function(t){var e=t.data.flatMap((function(t){return t.s})).reduce((function(t,e){var n=e.startDate.getFullYear().toString();return n&&e.minutes?(t[n]||(t[n]=[0,0,0]),t[n]=[t[n][0]+1,t[n][1]+e.e,t[n][2]+e.minutes],t):t}),{}),n=Math.floor(Object.values(e).sum(0)/Object.keys(e).length),a=Math.floor(Object.values(e).sum(1)/Object.keys(e).length),r=Math.floor(Object.values(e).sum(2)/Object.keys(e).length/60);return(0,p.jsx)(f.R,{icon:(0,p.jsx)(l.Z,{}),title:"Averages Per Year",content:[["Seasons",n],["Episodes",a],["Hours",r]]})},g=function(t){var e=t.data,n=e.flatMap((function(t){return t.s})),a=Math.round(n.length/e.length),r=Math.round(n.sum("e")/e.length),s=Math.floor(n.sum("minutes")/60/e.length);return(0,p.jsx)(f.R,{icon:(0,p.jsx)(c.Z,{}),title:"Averages Per Show",content:[["Seasons",a],["Episodes",r],["Hours",s]]})},m=function(t){var e=t.data;return(0,p.jsxs)(d.Z,{container:!0,spacing:1,alignItems:"stretch",children:[(0,p.jsx)(x,{data:e}),(0,p.jsx)(j,{data:e}),(0,p.jsx)(v,{data:e}),(0,p.jsx)(g,{data:e})]})},Z=n(48928),y=n(16398),D=n(54871),b=n(72900),S=n(11889),w=n(55194),M=n(97534),T=function(t,e){var n;return'\n    <div style="display: inline-block">\n        <ul style="list-style-type: none;padding: 5px">\n            <li>\n                <span><b>'.concat(t,'</b></span>\n            </li>\n        </ul>\n        <hr />\n        <ul style="list-style-type: none;padding-left: 10px">\n            <li>\n                <span><b>Hours: </b></span>\n                <span">').concat(Math.round(e.minutes/60),"</span>\n            </li>\n            <li>\n                <span><b>Period: </b></span>\n                <span>").concat(e.startDate.toLocaleDateString()," - ").concat(null===(n=e.endDate)||void 0===n?void 0:n.toLocaleDateString()," </span>\n            </li>\n            <li>\n                <span><b>Episodes: </b></span>\n                <span>").concat(e.e,"</span>\n            </li>\n        </ul>\n    </div>\n    ")},P=function(t){var e,n=t.data,a=(0,o.useState)(!0),s=(0,r.Z)(a,2),i=s[0],u=s[1],l=n.flatMap((function(t){return t.s.map((function(e){return["".concat(t.show," - S").concat(e.s),e]}))})),c=i?n.map((function(t){return["*",t.show,T(t.show,t),t.startDate,t.endDate]})):l.map((function(t){var e=(0,r.Z)(t,2),n=e[0],a=e[1];return["*",n,T(n,a),a.startDate,a.endDate]}));return e=i?"95vh":"70vh",(0,p.jsxs)(Z.Z,{children:[(0,p.jsx)(y.Z,{title:"Timeline",action:(0,p.jsx)(D.Z,{row:!0,children:(0,p.jsx)(b.Z,{label:"Combine Seasons",control:(0,p.jsx)(S.Z,{checked:i,onChange:function(t,e){return u(e)}})})})}),(0,p.jsx)(w.Z,{children:(0,p.jsx)("div",{style:{overflowX:"auto",overflowY:"hidden"},children:(0,p.jsx)(M.ZP,{width:"400vw",height:e,chartType:"Timeline",data:[[{type:"string",id:"*"},{type:"string",id:"Show"},{type:"string",role:"tooltip"},{type:"date",id:"Start"},{type:"date",id:"End"}]].concat(c)},e)})})]})},F=function(t){console.log("show fetch"),gapi.client.sheets.spreadsheets.values.get({spreadsheetId:"1M3om2DPLfRO5dKcUfYOIcSNoLThzMLp1iZLQX6qR3pY",range:"Sheet1!A:I"}).then((function(t){return t.result.values})).then(E).then(t)},E=function(t){var e=(0,a.Z)(t),n=e[0];return e.slice(1).map((function(t){var e={};return t.forEach((function(t,a){return e[n[a]]=t})),e}))},L=function(t){var e=t.hide,n=(0,o.useState)(),a=(0,r.Z)(n,2),i=a[0],u=a[1];if((0,o.useEffect)((function(){!i&&!e&&F(u)}),[i,e]),!i||e)return console.log("no data"),null;var l=[];return i.reduce((function(t,e,n){if(""!==e.Show){var a,r,s,o,i;if(0!==n)t.startDate=null===(a=t.s)||void 0===a?void 0:a[0].startDate,t.endDate=null===(r=t.s)||void 0===r||null===(s=r.at(-1))||void 0===s?void 0:s.endDate,t.e=null===(o=t.s)||void 0===o?void 0:o.sum("e"),t.minutes=null===(i=t.s)||void 0===i?void 0:i.sum("minutes"),l.push(t);t={show:e.Show,status:e.Status,anime:"TRUE"===e.Anime,s:[]}}else{var u={s:parseInt(e.Season),e:parseInt(e.Episode),startDate:new Date(e.Start),endDate:e.End?new Date(e.End):new Date,episodeLength:e.Episodes?parseInt(e.Episodes):void 0};u.minutes=u.episodeLength?u.episodeLength*u.e:void 0,u.startDate&&u.startDate.getFullYear()>2005&&t.s.push(u)}return t}),{}),console.log(l),(0,p.jsxs)(s.Z,{spacing:2,children:[(0,p.jsx)(m,{data:l}),(0,p.jsx)(P,{data:l})]})}},41696:function(t,e,n){n.d(e,{R:function(){return H},Z:function(){return I}});var a=n(29439),r=n(77019),s=n(88529),o=n(80485),i=n(54091),u=n(31185),l=n(5171),c=n(76923),d=n(6794),h=n(94162),f=n(48928),p=n(16398),x=n(30199),j=n(55194),v=n(45629),g=n(81872),m=n(72087),Z=n(4346),y=n(4565),D=n(67952),b=n(72791),S=n(16777),w=(new Intl.NumberFormat).format,M=n(80184),T=function(t){var e=t.data.filter((function(t){return t.hours})),n=e.sum("hours"),a=e.length;return(0,M.jsx)(H,{icon:(0,M.jsx)(r.Z,{}),title:"All Time",content:[["Games",a],["Hours",n]]})},P=function(t){var e=t.data.reduce((function(t,e){var n,a=null===(n=e.startDate)||void 0===n?void 0:n.getFullYear().toString();return a&&e.hours?(t[a]||(t[a]=[0,0]),t[a]=[t[a][0]+1,t[a][1]+e.hours],t):t}),{}),n=parseFloat((Object.values(e).sum(0)/Object.keys(e).length).toFixed(2)),a=parseFloat((Object.values(e).sum(1)/Object.keys(e).length).toFixed(2));return(0,M.jsx)(H,{icon:(0,M.jsx)(s.Z,{}),title:"Averages Per Year",content:[["Games",n],["Hours",a]]})},F=function(t){var e=t.data.filter((function(t){return"Beat"===t.status&&t.hours&&t.numDays})),n=Math.round(e.sum("hours")/e.length),a=Math.round(e.sum("numDays")/e.length);return(0,M.jsx)(H,{icon:(0,M.jsx)(o.Z,{}),title:"Averages Per Game",content:[["Hours",n],["Days To Beat",a]]})},E=function(t){var e=t.data.filter((function(t){var e;return(null===(e=t.startDate)||void 0===e?void 0:e.getFullYear())===S.zs&&t.hours})),n=e.sum("hours"),a=e.length;return(0,M.jsx)(H,{icon:(0,M.jsx)(i.Z,{}),title:"This Year So Far",content:[["Games",a],["Hours",n]]})},L=function(t){var e=t.data.filter((function(t){return t.hours&&t.startDate&&t.endDate})).sort((function(t,e){return t.endDate<e.endDate?1:-1})).slice(0,6);return(0,M.jsx)(k,{icon:(0,M.jsx)(u.Z,{}),title:"Recently Finished",content:e})},Y=function(t){var e=t.data.filter((function(t){return t.hours&&t.startDate&&t.endDate})).sort((function(t,e){return t.hours<e.hours?1:-1})).slice(0,6);return(0,M.jsx)(k,{icon:(0,M.jsx)(l.Z,{}),title:"Most Played",content:e})},O=function(t){var e,n=t.data,a=n.filter((function(t){return"Playing"===t.status})).sort((function(t,e){return t.startDate>e.startDate?1:-1}))[0],r=n.filter((function(t){return"Next"===t.status})).sort((function(t,e){return t.releaseDate>e.releaseDate?1:-1}))[0];return(0,M.jsx)(D.Z,{xs:12,md:4,children:(0,M.jsxs)(h.Z,{direction:"column",spacing:1,children:[a&&(0,M.jsxs)(f.Z,{sx:{flex:"0 1 auto"},children:[(0,M.jsx)(p.Z,{titleTypographyProps:{variant:"h6"},title:"Currently Playing",subheader:"Started ".concat(null===(e=a.startDate)||void 0===e?void 0:e.toLocaleDateString()),avatar:(0,M.jsx)(c.Z,{})}),(0,M.jsx)(x.Z,{component:"img",src:a.banner})]}),r&&(0,M.jsxs)(f.Z,{sx:{flex:"1 1 auto"},children:[(0,M.jsx)(p.Z,{titleTypographyProps:{variant:"h6"},title:"Next Up",subheader:"Releases ".concat(r.releaseDate.toLocaleDateString()),avatar:(0,M.jsx)(d.Z,{})}),(0,M.jsx)(x.Z,{component:"img",src:r.banner})]})]})})},k=function(t){var e=t.icon,n=t.title,a=t.content;return(0,M.jsx)(D.Z,{xs:6,md:4,children:(0,M.jsxs)(f.Z,{sx:{height:"100%"},children:[(0,M.jsx)(p.Z,{titleTypographyProps:{variant:"h6"},title:n,avatar:e}),(0,M.jsx)(j.Z,{children:(0,M.jsxs)(v.Z,{children:[a.map((function(t){var e;return(0,M.jsxs)(b.Fragment,{children:[(0,M.jsx)(g.Z,{variant:"middle",component:"li"}),(0,M.jsx)(m.ZP,{children:(0,M.jsx)(Z.Z,{secondaryTypographyProps:{component:"span"},primary:t.game,secondary:(0,M.jsxs)(h.Z,{direction:{xs:"column",md:"row"},justifyContent:"space-between",children:[(0,M.jsx)(y.Z,{children:null===(e=t.endDate)||void 0===e?void 0:e.toLocaleDateString()}),(0,M.jsx)(y.Z,{children:"".concat(w(t.hours)," Hours")})]})})})]},t.game)})),(0,M.jsx)(g.Z,{variant:"middle",component:"li"})]})})]})})},H=function(t){var e=t.icon,n=t.title,r=t.content,s="string"===typeof r?(0,M.jsx)(y.Z,{align:"right",variant:"h4",children:r}):(0,M.jsx)(h.Z,{divider:(0,M.jsx)(g.Z,{orientation:"vertical",flexItem:!0}),justifyContent:"space-evenly",direction:"row",children:r.map((function(t){var e=(0,a.Z)(t,2),n=e[0],r=e[1];return(0,M.jsxs)(h.Z,{direction:"column",children:[(0,M.jsx)(y.Z,{align:"center",variant:"h5",children:w(r)}),(0,M.jsx)(y.Z,{align:"center",sx:{fontSize:14},color:"text.secondary",children:n})]},r)}))});return(0,M.jsx)(D.Z,{xs:6,md:3,children:(0,M.jsxs)(f.Z,{sx:{height:"100%"},children:[(0,M.jsx)(p.Z,{titleTypographyProps:{variant:"h6"},title:n,avatar:e,sx:{paddingBottom:"5px"}}),(0,M.jsx)(j.Z,{sx:{paddingTop:"5px"},children:s})]})})},I=function(t){var e=t.data;return(0,M.jsxs)(D.Z,{container:!0,spacing:1,alignItems:"stretch",children:[(0,M.jsx)(T,{data:e}),(0,M.jsx)(E,{data:e}),(0,M.jsx)(P,{data:e}),(0,M.jsx)(F,{data:e}),(0,M.jsx)(Y,{data:e}),(0,M.jsx)(L,{data:e}),(0,M.jsx)(O,{data:e})]})}}}]);
//# sourceMappingURL=471.47c778a6.chunk.js.map