"use strict";(self.webpackChunkplot_device=self.webpackChunkplot_device||[]).push([[471],{5017:function(t,e,n){var r=n(29439),a=n(13967),o=n(57621),i=n(39504),s=n(9688),c=n(89118),l=n(80184),u=function(t){return Object.entries(t).reduce((function(t,e){var n=(0,r.Z)(e,2),a=n[0],o=n[1],i=o.color,s=o.data;t[a]={color:i,data:{}};for(var l=0,u=Object.keys(s).sort()[0].split("-").map((function(t){return parseInt(t)})),d=(0,r.Z)(u,2),h=d[0],p=d[1],f=h;f<=c.zs;f++)for(var v=f===h?p:1;v<=(f===c.zs?c.M7+1:12);v++){var x=f+"-"+(v<10?"0":"")+v;l=t[a].data[x]=l+(s[x]||0)}return t}),{})};e.Z=function(t){var e,n=t.grouped,c=(t.colours,t.cumulative),d=t.stack,h=t.children,p=(0,a.Z)();return c?(e=u(n),d=!0):e=n,(0,l.jsxs)(o.Z,{children:[h,(0,l.jsx)(i.Z,{children:(0,l.jsx)(s.Z,{style:{width:"100%",height:"95vh"},data:Object.entries(e).map((function(t){var n=(0,r.Z)(t,2),a=n[0],o=n[1],i=o.color,s=o.data;return{type:c||!d?"scatter":"bar",name:a,x:Object.keys(s),y:Object.values(s),stackgroup:d?"*":void 0,marker:{color:1===Object.entries(e).length?p.palette.primary.main:i}}})),config:{displayModeBar:!1,responsive:!0},layout:{showlegend:Object.keys(n).length>1&&Object.keys(n).length<8,legend:{x:0,y:1,orientation:"h"},barmode:d?"stack":void 0,margin:{l:40,r:0,t:0,b:40},xaxis:{tickmode:"array"},paper_bgcolor:"dark"===p.palette.mode?"rgba(0,0,0,0)":void 0,plot_bgcolor:"dark"===p.palette.mode?"rgba(0,0,0,0)":void 0,font:{color:p.palette.text.primary}}})})]})}},92073:function(t,e,n){n.d(e,{T:function(){return h}});var r=n(1413),a=n(29439),o=n(45987),i=n(42169),s=n(81918),c=n(29818),l=n(72791),u=n(80184),d=["image","alt","chip"],h=function(t){var e=t.image,n=t.alt,h=t.chip,p=(0,o.Z)(t,d),f=(0,l.useState)(!1),v=(0,a.Z)(f,2),x=v[0],m=v[1];return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{style:{position:"relative",height:p.height,width:p.width},children:[(0,u.jsx)(i.Z,(0,r.Z)({component:"img",src:e,alt:n,onClick:function(){return m(!0)}},p)),h&&(0,u.jsx)(s.Z,{sx:{position:"absolute",top:0,right:0,margin:1,opacity:.8,bgcolor:h[1],color:function(t){return h[1]&&t.palette.getContrastText(h[1])}},label:h[0],variant:"filled",size:"small"})]}),(0,u.jsx)(c.Z,{open:x,onClose:function(){return m(!1)},maxWidth:!1,PaperProps:{sx:{backgroundColor:"unset",boxShadow:"unset",backgroundImage:"unset"}},children:(0,u.jsx)("img",{style:{maxHeight:"calc(100vh - 64px)",objectFit:"contain",maxWidth:"100%",width:"100vw"},src:e,alt:n,onClick:function(){return m(!1)}})})]})}},95277:function(t,e,n){var r=n(29439),a=n(9585),o=n(79012),i=n(85523),s=n(91440),c=n(39504),l=n(57621),u=n(29818),d=n(34729),h=n(72791),p=n(92073),f=n(80184);e.Z=function(t){var e=t.title,n=t.data,v=t.width,x=t.colour,m=(0,h.useState)(!1),g=(0,r.Z)(m,2),j=g[0],Z=g[1],y=(0,h.useState)(!1),b=(0,r.Z)(y,2),S=b[0],k=b[1];if((0,h.useEffect)((function(){return k(!0)}),[]),!S)return null;var w=n.filter((function(t){return t.banner})).sortByKey("startDate"),C=(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(a.Z,{title:e,action:(0,f.jsx)(o.Z,{row:!0,children:(0,f.jsx)(i.Z,{label:"Maximise",control:(0,f.jsx)(s.Z,{checked:j,onChange:function(t,e){return Z(e)}})})})}),(0,f.jsx)(c.Z,{children:(0,f.jsx)(d.Z,{container:!0,spacing:1,alignItems:"center",children:w.map((function(t){return(0,f.jsx)(d.Z,{alignSelf:"stretch",xs:j?12:v,children:(0,f.jsx)(l.Z,{sx:{height:"100%",borderColor:x&&x(t)+90,borderStyle:x&&"solid",borderWidth:x&&3},children:(0,f.jsx)(p.T,{image:t.banner,height:"100%",alt:t.name})})},t.name)}))})})]});return(0,f.jsxs)(l.Z,{children:[C,(0,f.jsx)(u.Z,{open:j,fullScreen:!0,children:C})]})}},21488:function(t,e,n){n.d(e,{R:function(){return v},Z:function(){return x}});var r=n(29439),a=n(20890),o=n(36314),i=n(94721),s=n(57621),c=n(9585),l=n(39504),u=n(95193),d=n(34729),h=n(27222),p=n(92073),f=n(80184),v=function(t){var e=t.icon,n=t.title,u=t.content,p="string"===typeof u?(0,f.jsx)(a.Z,{align:"right",variant:"h4",children:u}):(0,f.jsx)(o.Z,{divider:(0,f.jsx)(i.Z,{orientation:"vertical",flexItem:!0}),justifyContent:"space-evenly",direction:"row",children:u.map((function(t){var e=(0,r.Z)(t,2),n=e[0],i=e[1];return(0,f.jsxs)(o.Z,{direction:"column",flex:"1 1 0",children:[(0,f.jsx)(a.Z,{align:"center",variant:"h5",children:(0,h.W)(i)}),(0,f.jsx)(a.Z,{align:"center",sx:{fontSize:14},color:"text.secondary",children:n})]},n)}))});return(0,f.jsx)(d.Z,{xs:12,sm:6,md:3,children:(0,f.jsxs)(s.Z,{sx:{height:"100%"},children:[(0,f.jsx)(c.Z,{titleTypographyProps:{variant:"h6"},title:n,avatar:e,sx:{paddingBottom:"5px"}}),(0,f.jsx)(l.Z,{sx:{paddingTop:"5px"},children:p})]})})},x=function(t){var e=t.icon,n=t.title,r=t.content,h=t.labelComponent,v=t.chipComponent,x=t.width,m=void 0===x?[12,12,6]:x,g=t.pictureWidth,j=void 0===g?[12,4,6]:g,Z=t.aspectRatio,y=t.divider,b=(0,f.jsx)(i.Z,{orientation:"vertical",flexItem:!0});(0,u.Z)((function(t){return t.breakpoints.down("md")}));return(0,f.jsx)(d.Z,{xs:m[0],sm:m[1],md:m[2],children:(0,f.jsxs)(s.Z,{sx:{height:"100%"},children:[(0,f.jsx)(c.Z,{titleTypographyProps:{variant:"h6"},title:n,avatar:e}),(0,f.jsx)(l.Z,{children:(0,f.jsx)(d.Z,{container:!0,sx:{overflow:"auto",flexWrap:{xs:"nowrap",md:12===m[2]?"nowrap":"wrap"}},spacing:1,alignItems:"center",children:r.map((function(t){var e,r;Array.isArray(t)?(e=t[0],r=t[1]):(e=t,r=t);var i=null===v||void 0===v?void 0:v(r);return(0,f.jsx)(d.Z,{flexShrink:0,alignSelf:"stretch",xs:j[0],sm:j[1],md:j[2],children:(0,f.jsxs)(s.Z,{variant:"outlined",sx:{height:"100%",bgcolor:i&&i[1]+80},children:[(0,f.jsx)(p.T,{image:e.banner,width:"100%",sx:{aspectRatio:Z,flexShrink:0},alt:e.name,chip:i}),(0,f.jsx)(l.Z,{sx:{padding:"10px",":last-child":{paddingBottom:"10px"}},children:h(r).map((function(t,r,i){return(0,f.jsx)(o.Z,{justifyContent:"space-between",alignItems:"baseline",direction:"row",divider:1===i.length||y?b:null,children:t.map((function(t){return(0,f.jsx)(a.Z,{variant:"subtitle2",color:"text.secondary",children:t},t)}))},"".concat(n,"-stacks-").concat(e.name,"-").concat(r))}))})]})},e.name)}))})})]})})}},34824:function(t,e,n){var r=n(37762),a=n(29439),o=n(13967),i=n(64554),s=n(57621),c=n(39504),l=n(72791),u=n(86140),d=n(80184);e.Z=function(t){var e=t.data,n=t.children,h=(0,l.useState)("90vh"),p=(0,a.Z)(h,2),f=p[0],v=p[1],x=(0,o.Z)(),m=(0,l.useCallback)((function(){var t,e=document.getElementsByTagName("text"),n=(0,r.Z)(e);try{for(n.s();!(t=n.n()).done;){var a=t.value;"middle"===a.getAttribute("text-anchor")&&a.setAttribute("fill",x.palette.text.secondary)}}catch(u){n.e(u)}finally{n.f()}var o,i=document.getElementsByTagName("rect"),s=(0,r.Z)(i);try{for(s.s();!(o=s.n()).done;){var c=o.value;if("#9a9a9a"===c.getAttribute("stroke")){var l=c.height.baseVal.value+50;v(l<.9*document.documentElement.clientHeight?l:"90vh")}}}catch(u){s.e(u)}finally{s.f()}}),[x.palette.text.secondary]);return(0,l.useEffect)((function(){return window.addEventListener("resize",m),function(){return window.removeEventListener("resize",m)}}),[m]),(0,d.jsx)(i.Z,{sx:{".backgroundPaper":{backgroundColor:"background.paper"}},children:(0,d.jsxs)(s.Z,{children:[n,(0,d.jsx)(c.Z,{children:(0,d.jsx)("div",{style:{overflowX:"auto",overflowY:"hidden"},children:(0,d.jsx)(u.ZP,{width:"400vw",height:f,chartType:"Timeline",data:[[{type:"string",id:"*"},{type:"string",id:"Name"},{type:"string",role:"tooltip"},{type:"date",id:"Start"},{type:"date",id:"End"}]].concat(e),onLoad:function(){setTimeout(m,50)},chartEvents:[{eventName:"ready",callback:m}],options:{backgroundColor:"dark"===x.palette.mode?x.palette.grey.A700:void 0,timeline:{rowLabelStyle:{color:x.palette.text.primary}}}},f)})})]})})}},9688:function(t,e,n){var r=n(49703),a=n.n(r),o=n(54301),i=n.n(o),s=n(92640),c=n.n(s),l=n(12067);e.Z=(a().register([i(),c()]),(0,l.Z)(a()))},27222:function(t,e,n){n.d(e,{W:function(){return r}});var r=(new Intl.NumberFormat).format},87471:function(t,e,n){n.r(e),n.d(e,{default:function(){return Q}});var r=n(77019),a=n(88529),o=n(80485),i=n(54091),s=n(31185),c=n(76189),l=n(80184),u=(0,c.Z)((0,l.jsx)("path",{d:"M13.5.67s.74 2.65.74 4.8c0 2.06-1.35 3.73-3.41 3.73-2.07 0-3.63-1.67-3.63-3.73l.03-.36C5.21 7.51 4 10.62 4 14c0 4.42 3.58 8 8 8s8-3.58 8-8C20 8.61 17.41 3.8 13.5.67zM11.71 19c-1.78 0-3.22-1.4-3.22-3.14 0-1.62 1.05-2.76 2.81-3.12 1.77-.36 3.6-1.21 4.62-2.58.39 1.29.59 2.65.59 4.04 0 2.65-2.15 4.8-4.8 4.8z"}),"Whatshot"),d=n(76923),h=n(34729),p=n(89118),f=n(27222),v=function(t){switch(t.company){case"Nintendo":return"#e60012";case"PlayStation":return"#0070cc";case"Xbox":return"#107c10";case"PC":return"#b5a596";case"iOS":return"#555555"}},x=function(t){switch(t.platform){case"PlayStation 2":return["PS2",v(t)];case"PlayStation 3":return["PS3",v(t)];case"PlayStation P":return["PSP",v(t)];case"PlayStation 4":return["PS4",v(t)];case"PlayStation 5":return["PS5",v(t)];case"Nintendo Wii":return["Wii",v(t)];case"Nintendo GBC":return["GBC",v(t)];case"Nintendo GBA":return["GBA",v(t)];case"Nintendo DS":return["DS",v(t)];case"Nintendo 3DS":return["3DS",v(t)];case"Nintendo Switch":return["NSW",v(t)];case"PC":return["PC",v(t)];case"iOS":return["iOS",v(t)];case"Xbox 360":return["360",v(t)];default:throw new Error("Unknown platform: "+t.platform)}},m=n(21488),g=function(t){var e=t.data.filter((function(t){return t.hours})),n=e.sum("hours"),a=e.length;return(0,l.jsx)(m.R,{icon:(0,l.jsx)(r.Z,{}),title:"All Time",content:[["Games",a],["Hours",n]]})},j=function(t){var e=t.data.reduce((function(t,e){var n,r,a=null===(n=e.startDate)||void 0===n?void 0:n.getFullYear().toString();return a&&e.hours?(null!==(r=t[a])&&void 0!==r||(t[a]=[0,0]),t[a]=[t[a][0]+1,t[a][1]+e.hours],t):t}),{}),n=parseFloat((Object.values(e).sum(0)/Object.keys(e).length).toFixed(2)),r=parseFloat((Object.values(e).sum(1)/Object.keys(e).length).toFixed(2));return(0,l.jsx)(m.R,{icon:(0,l.jsx)(a.Z,{}),title:"Averages Per Year",content:[["Games",n],["Hours",r]]})},Z=function(t){var e=t.data.filter((function(t){return"Beat"===t.status&&t.hours&&t.numDays})),n=Math.round(e.sum("hours")/e.length),r=Math.round(e.sum("numDays")/e.length);return(0,l.jsx)(m.R,{icon:(0,l.jsx)(o.Z,{}),title:"Averages Per Game",content:[["Hours",n],["Days To Beat",r]]})},y=function(t){var e=t.data.filter((function(t){var e;return(null===(e=t.startDate)||void 0===e?void 0:e.getFullYear())===p.zs&&t.hours})),n=e.sum("hours"),r=e.length;return(0,l.jsx)(m.R,{icon:(0,l.jsx)(i.Z,{}),title:"This Year So Far",content:[["Games",r],["Hours",n]]})},b=function(t){var e=t.data.filter((function(t){return t.hours&&t.startDate&&t.endDate})).sortByKey("endDate").slice(0,6);return(0,l.jsx)(m.Z,{icon:(0,l.jsx)(s.Z,{}),aspectRatio:"16/9",divider:!0,title:"Recently Finished",content:e,labelComponent:w,chipComponent:x})},S=function(t){var e=t.data.filter((function(t){return t.hours&&t.startDate&&t.endDate})).sortByKey("hours").slice(0,6);return(0,l.jsx)(m.Z,{icon:(0,l.jsx)(u,{}),aspectRatio:"16/9",divider:!0,title:"Most Played",content:e,labelComponent:w,chipComponent:x})},k=function(t){var e=t.data.filter((function(t){return"Playing"===t.status})).sort((function(t,e){return t.startDate>e.startDate?1:-1}));return(0,l.jsx)(m.Z,{icon:(0,l.jsx)(d.Z,{}),aspectRatio:"16/9",divider:!0,title:"Currently Playing",content:e,width:[12,12,12],pictureWidth:[12,4,4],labelComponent:C,chipComponent:x})},w=function(t){var e;return[[(null===(e=t.endDate)||void 0===e?void 0:e.toLocaleDateString())||"","".concat((0,f.W)(t.hours)," Hours")]]},C=function(t){var e;return[[(null===(e=t.startDate)||void 0===e?void 0:e.toLocaleDateString())||"",t.platform]]},D=function(t){var e=t.data;return(0,l.jsxs)(h.Z,{container:!0,spacing:1,alignItems:"stretch",children:[(0,l.jsx)(g,{data:e}),(0,l.jsx)(y,{data:e}),(0,l.jsx)(j,{data:e}),(0,l.jsx)(Z,{data:e}),(0,l.jsx)(S,{data:e}),(0,l.jsx)(b,{data:e}),(0,l.jsx)(k,{data:e})]})},P=n(29439),O=n(13967),T=n(57621),B=n(9585),F=n(39504),N=n(79012),W=n(72791),A=n(9688),E=n(33727),H=["company","format","franchise","name","platform","publisher","genre","rating","status","startDate"],G=function(t){var e=t.controlStates;return(0,l.jsx)(N.Z,{children:e.map((function(t,e){var n=(0,P.Z)(t,2),r=n[0],a=n[1];return(0,l.jsx)(E.j,{options:H,value:r,setValue:a},"sunburst-control-"+e)}))})},R=function(t,e,n){var r=t.filter((function(t){return"Hours"!==n||void 0!==t.hours})).reduce((function(t,n){var r=e.map((function(t){return function(t,e){var n=t[e];return n instanceof Date?n.getFullYear().toString():n}(n,t)}));if(!r.every((function(t){return"string"===typeof t})))return t;var a=t;return r.forEach((function(t){return a=a[t]=a[t]||{}})),a[n.name]=n,t}),{}),a=[],o=[],i=[],s=[],c=[];return function t(r,l){var u=0,d="";return Object.entries(r).sort((function(t,e){var n=(0,P.Z)(t,1)[0],r=(0,P.Z)(e,1)[0];return n.localeCompare(r)})).forEach((function(r){var h,p=(0,P.Z)(r,2),f=p[0],x=p[1];if(x.name)h="Hours"===n?x.hours:1,"company"===e[0]&&(d=v(x));else{var m=t(x,"".concat(l,"-").concat(f)),g=(0,P.Z)(m,2);h=g[0],d=g[1]}o.push(f),i.push(l),s.push(h),a.push("".concat(l,"-").concat(f)),c.push(d),u+=h})),[u,d]}(r,""),{labels:o,parents:i,values:s,ids:a,colours:c}},z=function(t){var e=t.data,n=t.measure,r=(0,O.Z)(),a=[(0,W.useState)("company"),(0,W.useState)("platform"),(0,W.useState)("franchise")],o=(0,W.useMemo)((function(){return R(e,a.map((function(t){return(0,P.Z)(t,1)[0]})),n)}),[e,n].concat(a)),i=o.ids,s=o.labels,c=o.parents,u=o.values,d=o.colours;return(0,l.jsxs)(T.Z,{children:[(0,l.jsx)(B.Z,{title:"Sunburst",action:(0,l.jsx)(G,{controlStates:a})}),(0,l.jsx)(F.Z,{children:(0,l.jsx)(A.Z,{style:{width:"100%",height:"95vh",maxHeight:"100vw"},data:[{labels:s,parents:c,values:u,ids:i,type:"sunburst",branchvalues:"total",maxdepth:3,sort:!1,marker:{line:{color:r.palette.background.paper},colors:d}}],config:{displayModeBar:!1,responsive:!0},layout:{margin:{l:0,r:0,b:0,t:0},paper_bgcolor:"dark"===r.palette.mode?"rgba(0,0,0,0)":void 0}})})]})},I=n(36314),M=n(85523),L=n(91440),Y=n(5017),_={none:!0,company:!0,format:!0,franchise:!1,name:!1,platform:!0,publisher:!1,rating:!0,status:!0,genre:!0},V=function(t,e,n,r){return t.reduce((function(t,a){var o,i,s,c="none"===e?"":a[e],l=r?null===(o=a.startDate)||void 0===o?void 0:o.toISOString().substring(0,7):null===(i=a.startDate)||void 0===i?void 0:i.getFullYear().toString();return l&&a.hours?(null!==(s=t[c])&&void 0!==s||(t[c]={color:"company"===e?v(a):"",data:{}}),t[c].data[l]=(t[c].data[l]||0)+("Count"===n?1:a.hours),t):t}),{})},K=function(t){var e=t.data,n=t.measure,r=(0,W.useState)("company"),a=(0,P.Z)(r,2),o=a[0],i=a[1],s=(0,W.useState)(!0),c=(0,P.Z)(s,2),u=c[0],d=c[1],h=(0,W.useState)(!0),p=(0,P.Z)(h,2),f=p[0],v=p[1],x=V(e,o,n,u);return(0,l.jsx)(Y.Z,{grouped:x,cumulative:u,stack:f,children:(0,l.jsx)(B.Z,{title:"Count"===n?"Games Played":"Hours Played",action:(0,l.jsxs)(N.Z,{children:[(0,l.jsx)(E.j,{options:Object.keys(_),value:o,setValue:i}),(0,l.jsxs)(I.Z,{direction:"row",children:[(0,l.jsx)(M.Z,{label:"Cumulative",control:(0,l.jsx)(L.Z,{checked:u,onChange:function(t,e){return d(e)}})}),(0,l.jsx)(M.Z,{label:"Stack",control:(0,l.jsx)(L.Z,{checked:f,onChange:function(t,e){return v(e)},disabled:u})})]})]})})})},X=n(95277),U=n(34824),q=function(t){var e,n,r;return'\n    <div style="display: flex; background-color: '.concat(v(t),'" class="backgroundPaper">\n      <div>\n        <ul style="list-style-type: none;padding-left: 5px">\n          <li>\n            <span><b>').concat(t.name,'</b></span>\n          </li>\n        </ul>\n        <hr />\n        <ul style="list-style-type: none;padding-left: 10px">\n          <li>\n            <span><b>Hours: </b></span>\n            <span">').concat(t.hours,"</span>\n          </li>\n          <li>\n            <span><b>Period: </b></span>\n            <span>").concat(null===(e=t.startDate)||void 0===e?void 0:e.toLocaleDateString()," - ").concat(null!==(n=null===(r=t.endDate)||void 0===r?void 0:r.toLocaleDateString())&&void 0!==n?n:"present"," </span>\n          </li>\n          <li>\n            <span><b>Days: </b></span>\n            <span>").concat(t.numDays||"-","</span>\n          </li>\n        </ul>\n      </div>\n      ").concat(t.banner?'<img src="'.concat(t.banner,'" style="height: 150px" /><hr />'):"","\n    </div>\n  ")},J=function(t){var e=t.data,n=(0,W.useState)(!1),r=(0,P.Z)(n,2),a=r[0],o=r[1],i=a?function(t){return t.company}:function(){return"*"},s=e.filter((function(t){var e=t.exactDate,n=t.startDate;return e&&n.getFullYear()>2014})).map((function(t){return[i(t),t.name,q(t),t.startDate,t.endDate||p.zr]}));return(0,l.jsx)(U.Z,{data:s,children:(0,l.jsx)(B.Z,{title:"Timeline",action:(0,l.jsx)(N.Z,{row:!0,children:(0,l.jsx)(M.Z,{label:"Group Data",control:(0,l.jsx)(L.Z,{checked:a,onChange:function(t,e){return o(e)}})})})})})},Q=function(t){var e=t.vgData,n=t.measure;return(0,l.jsxs)(I.Z,{spacing:2,children:[(0,l.jsx)(D,{data:e}),(0,l.jsx)(J,{data:e}),(0,l.jsx)(z,{data:e,measure:n}),(0,l.jsx)(K,{data:e,measure:n}),(0,l.jsx)(X.Z,{title:"All Games",data:e,width:4,colour:function(t){return v(t)}})]})}},33727:function(t,e,n){n.d(e,{j:function(){return i}});var r=n(70118),a=n(64387),o=n(80184),i=function(t){var e=t.options,n=t.value,i=t.setValue;return(0,o.jsx)(r.Z,{variant:"standard",value:n,onChange:function(t){return i(t.target.value)},children:e.map((function(t){return(0,o.jsx)(a.Z,{value:t,children:t},t)}))})}}}]);
//# sourceMappingURL=471.0e724a65.chunk.js.map