"use strict";(self.webpackChunkplot_device=self.webpackChunkplot_device||[]).push([[516],{516:function(t,n,e){e.r(n),e.d(n,{default:function(){return bt}});var r=e(84506),a=e(29439),s=e(15011),i=e(94162),o=e(34360),u=e(72791),c=e(48928),l=e(16398),d=e(55194),p=e(49703),f=e.n(p),h=e(54301),x=e.n(h),m=e(92640),v=e.n(m),j=e(12067),g=(f().register([x(),v()]),(0,j.Z)(f())),Z=e(48161),y=e(70324),b=e(80184),D=function(t){var n=t.options,e=t.value,r=t.setValue;return(0,b.jsx)(Z.Z,{variant:"standard",value:e,onChange:function(t){return r(t.target.value)},children:n.map((function(t){return(0,b.jsx)(y.Z,{value:t,children:t},t)}))})},S=["none","company","format","franchise","game","platform","publisher","rating","status"],C=function(t){var n=t.data,e=t.measure,r=(0,u.useState)("company"),s=(0,a.Z)(r,2),i=s[0],o=s[1],p=n.reduce((function(t,n){var r,a="none"===i?"":n[i],s=null===(r=n.startDate)||void 0===r?void 0:r.getFullYear().toString();return s&&n.hours?(t[a]=t[a]||{},t[a][s]=(t[a][s]||0)+("Count"===e?1:parseInt(n.hours)),t):t}),{});return(0,b.jsxs)(c.Z,{children:[(0,b.jsx)(l.Z,{title:"Count"===e?"Games Played":"Hours Played",action:(0,b.jsx)(D,{options:S,value:i,setValue:o})}),(0,b.jsx)(d.Z,{children:(0,b.jsx)(g,{style:{width:"100%",height:"95vh"},data:Object.entries(p).map((function(t){var n=(0,a.Z)(t,2),e=n[0],r=n[1];return{type:"bar",name:e,x:Object.keys(r),y:Object.values(r)}})),config:{displayModeBar:!1,responsive:!0},layout:{legend:{x:0,y:1,orientation:"h"},barmode:"stack",margin:{l:40,r:0,t:0,b:40},xaxis:{tickmode:"linear"}}})})]})},P=e(54871),F=e(72900),w=e(11889),k=e(97534),T=function(t){var n,e;return'\n    <div style="display: inline-block">\n        <ul style="list-style-type: none;padding: 5px">\n            <li>\n                <span><b>'.concat(t.game,'</b></span>\n            </li>\n        </ul>\n        <hr />\n        <ul style="list-style-type: none;padding-left: 10px">\n            <li>\n                <span><b>Hours: </b></span>\n                <span">').concat(t.hours,"</span>\n            </li>\n            <li>\n                <span><b>Period: </b></span>\n                <span>").concat(null===(n=t.startDate)||void 0===n?void 0:n.toLocaleDateString()," - ").concat(null===(e=t.endDate)||void 0===e?void 0:e.toLocaleDateString()," </span>\n            </li>\n            <li>\n                <span><b>Days: </b></span>\n                <span>").concat(t.numDays||"-","</span>\n            </li>\n        </ul>\n    </div>\n    ")},Y=function(t){var n,e=t.data,r=(0,u.useState)(!1),s=(0,a.Z)(r,2),i=s[0],o=s[1],p=i?function(t){return t.company}:function(){return"*"},f=e.filter((function(t){return t.exactDate})).filter((function(t){var n=t.startDate;return(null===n||void 0===n?void 0:n.getFullYear())>2014})).map((function(t){return[p(t),t.game,T(t),t.startDate,t.endDate]}));return n=i?"55vh":"30vh",(0,b.jsxs)(c.Z,{children:[(0,b.jsx)(l.Z,{title:"Timeline",action:(0,b.jsx)(P.Z,{row:!0,children:(0,b.jsx)(F.Z,{label:"Group Data",control:(0,b.jsx)(w.Z,{checked:i,onChange:function(t,n){return o(n)}})})})}),(0,b.jsx)(d.Z,{children:(0,b.jsx)("div",{style:{overflowX:"auto",overflowY:"hidden"},children:(0,b.jsx)(k.ZP,{width:"400vw",height:n,chartType:"Timeline",data:[[{type:"string",id:"Company"},{type:"string",id:"Game"},{type:"string",role:"tooltip"},{type:"date",id:"Start"},{type:"date",id:"End"}]].concat(f)},n)})})]})},E=e(32815),G=e(82396),H=e(39727),I=e(9459),L=e(94609),M=e(77019),O=e(93811),N=e(94976),V=e(22485),A=e(55590),B=function(t){var n=t.setFilterFunc,e=t.measure,r=t.setMeasure,s=(0,u.useState)(!1),o=(0,a.Z)(s,2),c=o[0],l=o[1],d=(0,u.useState)(!1),p=(0,a.Z)(d,2),f=p[0],h=p[1],x=(0,u.useState)(!1),m=(0,a.Z)(x,2),v=m[0],j=m[1];(0,u.useEffect)((function(){var t=[c?function(t){return"Endless"!==t.status}:function(){return!0},f?function(t){return"Pok\xe9mon"!==t.franchise}:function(){return!0},v?function(t){var n=t.platform,e=t.startDate;if("PC"===n){if(null===e||void 0===e||!e.getFullYear()||(null===e||void 0===e?void 0:e.getFullYear())<2015)return!1}else if("Nintendo Switch"!==n&&"Nintendo 3DS"!==n&&"PlayStation 4"!==n&&"PlayStation 5"!==n)return!1;return!0}:function(){return!0}];n((function(){return function(n){return t.reduce((function(t,e){return t&&e(n)}),!0)}}))}),[c,f,v,n]);var g=function(t){return t?{sx:{backgroundColor:"primary.light","&:hover":{backgroundColor:"primary.dark"}}}:{}};return(0,b.jsxs)(i.Z,{direction:"column",spacing:2,sx:{position:"fixed",right:function(t){return t.spacing(2)},bottom:function(t){return t.spacing(2)}},children:[(0,b.jsxs)(O.Z,{icon:(0,b.jsx)(N.Z,{icon:(0,b.jsx)(E.Z,{})}),ariaLabel:"add",children:[(0,b.jsx)(V.Z,{FabProps:g(c),tooltipOpen:!0,tooltipTitle:"Endless",icon:(0,b.jsx)(G.Z,{}),onClick:function(){return l(!c)}}),(0,b.jsx)(V.Z,{FabProps:g(v),tooltipOpen:!0,tooltipTitle:"Unconfirmed",icon:(0,b.jsx)(H.Z,{}),onClick:function(){return j(!v)}}),(0,b.jsx)(V.Z,{FabProps:g(f),tooltipOpen:!0,tooltipTitle:"Pokemon",icon:(0,b.jsx)(I.Z,{}),onClick:function(){return h(!f)}})]}),(0,b.jsx)(A.Z,{color:"secondary",onClick:function(){return r("Count"===e?"Hours":"Count")},children:"Count"===e?(0,b.jsx)(L.Z,{}):(0,b.jsx)(M.Z,{})})]})},R=e(88529),_=e(54091),U=e(31185),J=e(5171),Q=e(76923),X=e(6794),q=e(30199),z=e(45629),K=e(81872),W=e(72087),$=e(4346),tt=e(4565),nt=e(67952),et=(new Intl.NumberFormat).format,rt=function(t){var n=t.data,e=et(n.filter((function(t){return t.hours})).reduce((function(t,n){return t+parseInt(n.hours)}),0));return(0,b.jsx)(dt,{icon:(0,b.jsx)(M.Z,{}),title:"Time Gamed",content:"".concat(e," Hours")})},at=function(t){var n=t.data,e=et(n.length);return(0,b.jsx)(dt,{icon:(0,b.jsx)(L.Z,{}),title:"Number of Games",content:e})},st=function(t){var n=t.data,e=et(Math.round(n.filter((function(t){return t.hours})).reduce((function(t,n){return t+parseInt(n.hours)}),0)/n.length));return(0,b.jsx)(dt,{icon:(0,b.jsx)(R.Z,{}),title:"Avg Time per Game",content:"".concat(e," Hours")})},it=function(t){var n=t.data,e=et(n.filter((function(t){var n;return(null===(n=t.startDate)||void 0===n?void 0:n.getFullYear())===(new Date).getFullYear()&&t.hours})).reduce((function(t,n){return t+parseInt(n.hours)}),0));return(0,b.jsx)(dt,{icon:(0,b.jsx)(_.Z,{}),title:"This Year So Far",content:"".concat(e," Hours")})},ot=function(t){var n=t.data.filter((function(t){return t.hours&&t.startDate&&t.endDate})).sort((function(t,n){return t.endDate<n.endDate?1:-1})).slice(0,6);return(0,b.jsx)(lt,{icon:(0,b.jsx)(U.Z,{}),title:"Recently Finished",content:n})},ut=function(t){var n=t.data.filter((function(t){return t.hours&&t.startDate&&t.endDate})).sort((function(t,n){return parseInt(t.hours)<parseInt(n.hours)?1:-1})).slice(0,6);return(0,b.jsx)(lt,{icon:(0,b.jsx)(J.Z,{}),title:"Most Played",content:n})},ct=function(t){var n,e=t.data.filter((function(t){return"Playing"===t.status})).sort((function(t,n){return t.startDate>n.startDate?1:-1}))[0];return(0,b.jsx)(nt.Z,{xs:12,md:4,children:(0,b.jsxs)(i.Z,{direction:"column",spacing:1,sx:{height:"100%"},children:[(0,b.jsxs)(c.Z,{sx:{flex:"0 1 auto"},children:[(0,b.jsx)(l.Z,{titleTypographyProps:{variant:"h6"},title:"Currently Playing",subheader:"Started ".concat(null===(n=e.startDate)||void 0===n?void 0:n.toLocaleDateString()),avatar:(0,b.jsx)(Q.Z,{})}),(0,b.jsx)(q.Z,{component:"img",src:"https://images.launchbox-app.com/593bbec1-bacd-4d34-b67e-debbdc892286.jpg"})]}),(0,b.jsxs)(c.Z,{sx:{flex:"1 1 auto"},children:[(0,b.jsx)(l.Z,{titleTypographyProps:{variant:"h6"},title:"Next Up",subheader:"Releases ".concat(new Date("11/10/2022").toLocaleDateString()),avatar:(0,b.jsx)(X.Z,{})}),(0,b.jsx)(q.Z,{component:"img",src:"https://images.launchbox-app.com/76ef597d-d0a3-4baa-ac5e-0f00da125e65.jpg"})]})]})})},lt=function(t){var n=t.icon,e=t.title,r=t.content;return(0,b.jsx)(nt.Z,{xs:6,md:4,children:(0,b.jsxs)(c.Z,{sx:{height:"100%"},children:[(0,b.jsx)(l.Z,{titleTypographyProps:{variant:"h6"},title:e,avatar:n}),(0,b.jsx)(d.Z,{children:(0,b.jsxs)(z.Z,{children:[r.map((function(t){var n;return(0,b.jsxs)(u.Fragment,{children:[(0,b.jsx)(K.Z,{variant:"middle",component:"li"}),(0,b.jsx)(W.ZP,{children:(0,b.jsx)($.Z,{secondaryTypographyProps:{component:"span"},primary:t.game,secondary:(0,b.jsxs)(i.Z,{direction:{xs:"column",md:"row"},justifyContent:"space-between",children:[(0,b.jsx)(tt.Z,{children:null===(n=t.endDate)||void 0===n?void 0:n.toLocaleDateString()}),(0,b.jsx)(tt.Z,{children:"".concat(et(parseInt(t.hours))," Hours")})]})})})]},t.game)})),(0,b.jsx)(K.Z,{variant:"middle",component:"li"})]})})]})})},dt=function(t){var n=t.icon,e=t.title,r=t.content;return(0,b.jsx)(nt.Z,{xs:6,md:3,children:(0,b.jsxs)(c.Z,{sx:{height:"100%"},children:[(0,b.jsx)(l.Z,{titleTypographyProps:{variant:"h6"},title:e,avatar:n}),(0,b.jsx)(d.Z,{children:(0,b.jsx)(tt.Z,{align:"right",variant:"h4",children:r})})]})})},pt=function(t){var n=t.data;return(0,b.jsxs)(nt.Z,{container:!0,spacing:1,alignItems:"stretch",children:[(0,b.jsx)(at,{data:n}),(0,b.jsx)(rt,{data:n}),(0,b.jsx)(it,{data:n}),(0,b.jsx)(st,{data:n}),(0,b.jsx)(ut,{data:n}),(0,b.jsx)(ot,{data:n}),(0,b.jsx)(ct,{data:n})]})},ft=e(93433),ht=["company","format","franchise","game","platform","publisher","rating","status","startDate"],xt=function(t){var n=t.data,e=t.setSunburstData,r=t.measure,s=[(0,u.useState)("company"),(0,u.useState)("platform"),(0,u.useState)("franchise")],i=s.map((function(t){return(0,a.Z)(t,1)[0]}));return(0,u.useEffect)((function(){var t=mt(n,i,r);e(t)}),[e,n,r].concat((0,ft.Z)(i))),(0,b.jsx)(P.Z,{children:s.map((function(t){var n=(0,a.Z)(t,2),e=n[0],r=n[1];return(0,b.jsx)(D,{options:ht,value:e,setValue:r},e)}))})},mt=function(t,n,e){var r=t.filter((function(t){return"Hours"!==e||void 0!==t.hours})).reduce((function(t,e){var r=n.map((function(t){return function(t,n){var e=t[n];return e instanceof Date?e.getFullYear().toString():e}(e,t)}));if(!r.every((function(t){return"string"===typeof t})))return t;var a=t;return r.forEach((function(t){return a=a[t]=a[t]||{}})),a[e.game]=e,t}),{}),s=[],i=[],o=[],u=[];return function t(n,r){var c=0;return Object.entries(n).sort((function(t,n){var e=(0,a.Z)(t,1)[0],r=(0,a.Z)(n,1)[0];return e.localeCompare(r)})).forEach((function(n){var l,d=(0,a.Z)(n,2),p=d[0],f=d[1];l=f.game?"Hours"===e?parseInt(f.hours):1:t(f,"".concat(r,"-").concat(p)),i.push(p),o.push(r),u.push(l),s.push("".concat(r,"-").concat(p)),c+=l})),c}(r,""),{labels:i,parents:o,values:u,ids:s}},vt=function(t){var n=t.data,e=t.measure,r=(0,u.useState)({ids:[],labels:[],parents:[],values:[]}),s=(0,a.Z)(r,2),i=s[0],o=i.ids,p=i.labels,f=i.parents,h=i.values,x=s[1];return(0,b.jsxs)(c.Z,{children:[(0,b.jsx)(l.Z,{title:"Sunburst",action:(0,b.jsx)(xt,{data:n,setSunburstData:x,measure:e})}),(0,b.jsx)(d.Z,{children:(0,b.jsx)(g,{style:{width:"100%",height:"95vh"},data:[{labels:p,parents:f,values:h,ids:o,type:"sunburst",branchvalues:"total",maxdepth:3,sort:!1}],config:{displayModeBar:!1,responsive:!0},layout:{margin:{l:0,r:0,b:0,t:0}}})})]})},jt=(0,o.Z)({components:{MuiCard:{styleOverrides:{root:function(t){return{"&:hover":{boxShadow:t.theme.shadows[4]}}}}}}}),gt=function(t){var n=(0,r.Z)(t),e=n[0];return n.slice(1).map((function(t){return t.reduce((function(t,n,r){return t[e[r]]=n,t}),{})}))},Zt=function(t){gapi.client.sheets.spreadsheets.values.get({spreadsheetId:"1JCAN_lB2QaVxj1rD4f88mN4tHjmhxF3CZlGtZGwYCLk",range:"Games List!A:Z"}).then((function(t){return t.result.values})).then(gt).then(t)},yt=function(t,n){if(t&&n)return Math.floor((n.getTime()-t.getTime())/864e5+1)},bt=function(){var t=(0,u.useState)(),n=(0,a.Z)(t,2),e=n[0],r=n[1],o=(0,u.useState)((function(){return function(){return!0}})),c=(0,a.Z)(o,2),l=c[0],d=c[1],p=(0,u.useState)("Count"),f=(0,a.Z)(p,2),h=f[0],x=f[1];if((0,u.useEffect)((function(){return Zt(r)}),[]),!e)return console.log("no data"),null;var m=e.map((function(t){var n=t["Start Date"]?new Date(t["Start Date"]):void 0,e=t["End Date"]?new Date(t["End Date"]):void 0;return e&&t["End Date"].length<5&&e.setFullYear(e.getFullYear()+1),e=n&&(e||new Date),{game:t.Game,platform:t.Platform,company:t.Platform.split(" ")[0],franchise:t.Franchise,genre:t.Genre.split("\n"),theme:t.Theme.split("\n"),format:t.Format,publisher:t.Publisher,rating:t.Rating,status:t.Status,exactDate:!!t["Start Date"]&&t["Start Date"].length>5,startDate:n,endDate:e,hours:t.Hours,numDays:yt(n,e)}})).filter(l);return(0,b.jsx)(s.a,{theme:jt,children:(0,b.jsxs)(i.Z,{spacing:2,children:[(0,b.jsx)(pt,{data:m}),(0,b.jsx)(Y,{data:m}),(0,b.jsx)(vt,{data:m,measure:h}),(0,b.jsx)(C,{data:m,measure:h}),(0,b.jsx)(B,{setFilterFunc:d,measure:h,setMeasure:x})]})})}}}]);
//# sourceMappingURL=516.6261bc6f.chunk.js.map